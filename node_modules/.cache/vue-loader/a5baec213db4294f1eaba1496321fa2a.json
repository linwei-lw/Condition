{"remainingRequest":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\InputColor.vue?vue&type=style&index=0&module=true&lang=css&","dependencies":[{"path":"D:\\cdRule\\src\\components\\InputColor.vue","mtime":1662449411092},{"path":"D:\\cdRule\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container {\n  overflow: hidden;\n  vertical-align: top;\n  outline: none;\n  display: inline-block;\n  white-space: nowrap;\n  background-color: #fff;\n  position: relative;\n  user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n}\n.container > *:not(ul) {\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.border {\n  border-style: solid;\n  border-width: 1px;\n}\n/* 标题文本 */\n.label {\n  float: left;\n  padding: 0 6px;\n  border-right-style: solid;\n  border-right-width: 0px;\n  white-space: nowrap;\n}\n\n/* select容器 */\n.selector {\n  padding-left: 8px;\n  cursor: pointer;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.icon {\n  float: right;\n  width: 22px;\n  padding-left: 2px;\n  line-height: 0;\n  font-size: 16px;\n  cursor: pointer;\n}\n.rows {\n  height: 14px;\n  white-space: nowrap;\n  margin-top: -1px;\n}\n.item {\n  margin: -1px;\n  border: 1px solid #000;\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  float:left;\n  cursor: pointer;\n}\n.item:hover {\n  transform: scale(1.01);\n  border-color: #fff!important;\n}\n/* 下拉容器 */\n.dropdown {\n  position: fixed;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  background-color: #fff;\n  margin-block-start: 0;\n  border-width: 1px;\n  border-style: solid;\n  overflow-y: auto;\n  box-shadow: 0px 0px 5px 0px RGBA(0, 0, 0, 0.1);\n}\n/* 禁止操作 */\n.disabled {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  background-color: rgba(255, 255, 255, 0.6);\n  opacity: 0.6;\n  filter: alpha(opacity=60); \n  cursor: not-allowed;\n}\n",{"version":3,"sources":["InputColor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InputColor.vue","sourceRoot":"src/components","sourcesContent":["\r\n<template>\r\n  <div :class=\"[$style.container, border && $style.border]\" :style=\"containerStyle\" tabindex=\"0\" @focus=\"focused=true\" @blur=\"focused=false\" @mouseenter=\"hover=true\" @mouseleave=\"hover=false\">\r\n\r\n    <!--label显示-->\r\n    <span :class=\"$style.label\" :style=\"{borderRightColor:theme.border_color_light, backgroundColor:theme.input_label_bg_color}\" v-if=\"label\" is-label>{{label}}</span>\r\n    \r\n    <i :class=\"$style.icon\" :style=\"{lineHeight:lineHeight+'px'}\" v-show=\"showClear\" v-if=\"clearable\" class=\"el-icon-close\" @click.stop=\"clear\"></i>\r\n    \r\n    <!--selector显示-->\r\n    <div ref=\"selector\" :class=\"$style.selector\" @click=\"toggleDropDown($event)\" :style=\"{lineHeight:lineHeight+'px',marginRight:'8px'}\">\r\n      <div style=\"width:20px;height:20px;border:1px solid #f00;border-radius:2px\" :style=\"{backgroundColor:value, borderColor:borderColor}\"/>\r\n    </div>\r\n\r\n    <!--弹出selector显示-->\r\n    <div ref=\"dropdown\" :class=\"$style.dropdown\" :style=\"[dropdownStyle,theme.popup]\" v-show=\"showDropDown\" v-if=\"createDropDown\" style=\"display:block;width:240px;height:166px;overflow:hidden;padding:5px;\">\r\n      <div v-for=\"(items,index) in colors\" :key=\"index\" :class=\"$style.rows\">\r\n        <div v-for=\"(color,i) in items\" :key=\"index+'_'+i\" :class=\"$style.item\" :style=\"{backgroundColor:color}\" @click=\"onColorClick(color)\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"disabled\" :class=\"$style.disabled\" :style=\"{borderRadius: radius}\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  \r\n  import { domLeftTop } from '@/components/util/Dom.js';\r\n\r\n  export default {\r\n    name: \"InputColor\",\r\n    props: {\r\n      label: String,                                                      // 标题文本\r\n      value: String,                                                      // 当前值(v-model)\r\n      disabled:  Boolean,                                                 // 是否可操作\r\n      border:     { type: Boolean, default: true },                       // 是否显示边框\r\n      borderColor:{ type: String,  default: $_theme.border_color_light },\r\n      radius:     { type: String,  default: $_theme.input_radius},        // 边框圆角\r\n      focusColor: { type: String,  default: $_theme.color },\r\n      height:     { type: Number,  default: $_theme.inputHeight },        // 高度数值，单位是px\r\n      clearable: Boolean,                                                 // 是否显示可清除图标\r\n    },\r\n    data() {\r\n      return {\r\n        focused: false,\r\n        createDropDown: false,\r\n        showDropDown: false,\r\n        hover: false,\r\n        dropdownStyle: null,\r\n      };\r\n    },\r\n    watch: {\r\n      showDropDown: function(v) {\r\n        this.hideDropDown = this.hideDropDown || (e => this.showDropDown = this.$refs.selector.contains(e.target));\r\n        document[v?'addEventListener':'removeEventListener']('click', this.hideDropDown);\r\n      }\r\n    },\r\n    methods: {\r\n      toggleDropDown(event) {// 显示或隐藏选项列表\r\n        this.focused = true;\r\n        if (this.showDropDown) return this.showDropDown=false;\r\n        this.showDropDown = this.createDropDown = true;\r\n        \r\n        // 自动判断是显示在下面还是上面\r\n        let {left, top} = domLeftTop(this.$el), listHeight = 166;\r\n        let down = document.documentElement.clientHeight - top - this.height;\r\n        if (down > listHeight) {// 下面空间充足，显示在下面\r\n          top += this.height;\r\n        } else if (top > listHeight) {// 上面空间足够，显示在上面\r\n          top -= listHeight - 2;\r\n        } else {// 上面和下面的空间都不够\r\n          if (down > top) {// 下面的空间大，显示在下面\r\n            listHeight = down - 5;\r\n            top += this.height;\r\n          } else {// 上面的空间大，显示在上面\r\n            listHeight = top - 5;\r\n            top -= listHeight - 2;\r\n          }\r\n        }\r\n        this.dropdownStyle = {\r\n          zIndex: $_theme.zindex(),\r\n          top: top + 'px',\r\n          left: left + 'px',\r\n          backgroundColor: this.theme.bg_color,\r\n          borderColor: this.borderColor,\r\n        };\r\n      },\r\n      onColorClick(value) {\r\n        let old = this.value;\r\n        this.$emit('input',  value);\r\n        this.$emit('change', value, old);\r\n      },\r\n      clear() {\r\n        let old = this.value;\r\n        this.$emit('input',  null);\r\n        old !== null && this.$emit('change', null, old);\r\n      }\r\n    },\r\n    computed: {\r\n      containerStyle() {\r\n        return {\r\n          borderRadius: this.radius,\r\n          height: this.height + 'px',\r\n          borderColor: this.focused ? this.focusColor : this.borderColor\r\n        }\r\n      },\r\n      lineHeight() {// 获取除边框外的高度\r\n        return this.height - (this.border ? 2 : 0);\r\n      },\r\n      showClear() {// 判断是否要显示清除按钮\r\n        return this.clearable && this.hover && this.value;\r\n      },\r\n      colors(){\r\n        return [\r\n          ['#000000','#000000','#003300','#006600','#009900','#00CC00','#00FF00','#330000','#333300','#336600','#339900','#33CC00','#33FF00','#660000','#663300','#666600','#669900','#66CC00','#66FF00'],\r\n          ['#333333','#000033','#003333','#006633','#009933','#00CC33','#00FF33','#330033','#333333','#336633','#339933','#33CC33','#33FF33','#660033','#663333','#666633','#669933','#66CC33','#66FF33'],\r\n          ['#666666','#000066','#003366','#006666','#009966','#00CC66','#00FF66','#330066','#333366','#336666','#339966','#33CC66','#33FF66','#660066','#663366','#666666','#669966','#66CC66','#66FF66'],\r\n          ['#999999','#000099','#003399','#006699','#009999','#00CC99','#00FF99','#330099','#333399','#336699','#339999','#33CC99','#33FF99','#660099','#663399','#666699','#669999','#66CC99','#66FF99'],\r\n          ['#CCCCCC','#0000CC','#0033CC','#0066CC','#0099CC','#00CCCC','#00FFCC','#3300CC','#3333CC','#3366CC','#3399CC','#33CCCC','#33FFCC','#6600CC','#6633CC','#6666CC','#6699CC','#66CCCC','#66FFCC'],\r\n          ['#FFFFFF','#0000FF','#0033FF','#0066FF','#0099FF','#00CCFF','#00FFFF','#3300FF','#3333FF','#3366FF','#3399FF','#33CCFF','#33FFFF','#6600FF','#6633FF','#6666FF','#6699FF','#66CCFF','#66FFFF'],\r\n          ['#FF0000','#990000','#993300','#996600','#999900','#99CC00','#99FF00','#CC0000','#CC3300','#CC6600','#CC9900','#CCCC00','#CCFF00','#FF0000','#FF3300','#FF6600','#FF9900','#FFCC00','#FFFF00'],\r\n          ['#00FF00','#990033','#993333','#996633','#999933','#99CC33','#99FF33','#CC0033','#CC3333','#CC6633','#CC9933','#CCCC33','#CCFF33','#FF0033','#FF3333','#FF6633','#FF9933','#FFCC33','#FFFF33'],\r\n          ['#0000FF','#990066','#993366','#996666','#999966','#99CC66','#99FF66','#CC0066','#CC3366','#CC6666','#CC9966','#CCCC66','#CCFF66','#FF0066','#FF3366','#FF6666','#FF9966','#FFCC66','#FFFF66'],\r\n          ['#FFFF00','#990099','#993399','#996699','#999999','#99CC99','#99FF99','#CC0099','#CC3399','#CC6699','#CC9999','#CCCC99','#CCFF99','#FF0099','#FF3399','#FF6699','#FF9999','#FFCC99','#FFFF99'],\r\n          ['#00FFFF','#9900CC','#9933CC','#9966CC','#9999CC','#99CCCC','#99FFCC','#CC00CC','#CC33CC','#CC66CC','#CC99CC','#CCCCCC','#CCFFCC','#FF00CC','#FF33CC','#FF66CC','#FF99CC','#FFCCCC','#FFFFCC'],\r\n          ['#FF00FF','#9900FF','#9933FF','#9966FF','#9999FF','#99CCFF','#99FFFF','#CC00FF','#CC33FF','#CC66FF','#CC99FF','#CCCCFF','#CCFFFF','#FF00FF','#FF33FF','#FF66FF','#FF99FF','#FFCCFF','#FFFFFF'],\r\n        ];\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style module>\r\n  .container {\r\n    overflow: hidden;\r\n    vertical-align: top;\r\n    outline: none;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    background-color: #fff;\r\n    position: relative;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    -moz-user-select: none;\r\n  }\r\n  .container > *:not(ul) {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .border {\r\n    border-style: solid;\r\n    border-width: 1px;\r\n  }\r\n  /* 标题文本 */\r\n  .label {\r\n    float: left;\r\n    padding: 0 6px;\r\n    border-right-style: solid;\r\n    border-right-width: 0px;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  /* select容器 */\r\n  .selector {\r\n    padding-left: 8px;\r\n    cursor: pointer;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  .icon {\r\n    float: right;\r\n    width: 22px;\r\n    padding-left: 2px;\r\n    line-height: 0;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n  }\r\n  .rows {\r\n    height: 14px;\r\n    white-space: nowrap;\r\n    margin-top: -1px;\r\n  }\r\n  .item {\r\n    margin: -1px;\r\n    border: 1px solid #000;\r\n    width: 14px;\r\n    height: 14px;\r\n    display: inline-block;\r\n    float:left;\r\n    cursor: pointer;\r\n  }\r\n  .item:hover {\r\n    transform: scale(1.01);\r\n    border-color: #fff!important;\r\n  }\r\n  /* 下拉容器 */\r\n  .dropdown {\r\n    position: fixed;\r\n    padding: 0;\r\n    margin: 0;\r\n    list-style: none;\r\n    background-color: #fff;\r\n    margin-block-start: 0;\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    overflow-y: auto;\r\n    box-shadow: 0px 0px 5px 0px RGBA(0, 0, 0, 0.1);\r\n  }\r\n  /* 禁止操作 */\r\n  .disabled {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    background-color: rgba(255, 255, 255, 0.6);\r\n    opacity: 0.6;\r\n    filter: alpha(opacity=60); \r\n    cursor: not-allowed;\r\n  }\r\n</style>\r\n"]}]}