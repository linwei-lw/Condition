{"remainingRequest":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\Pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\cdRule\\src\\components\\Pagination.vue","mtime":1676856824757},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: \"Pagination\",\r\n  props: {\r\n    perPages: {\r\n      type: Number,\r\n      default: 5\r\n    },\r\n\r\n    //当前页码\r\n    pageIndex: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    //每页显示条数\r\n    pageSize: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n\r\n    //总记录数\r\n    total: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    color: {\r\n      type: String,\r\n      default: $_theme.color\r\n    }\r\n  },\r\n  methods: {\r\n    prev() {\r\n      if (this.index > 1) {\r\n        this.go(this.index - 1);\r\n      }\r\n    },\r\n    next() {\r\n      if (this.index < this.pages) {\r\n        this.go(this.index + 1);\r\n      }\r\n    },\r\n    first() {\r\n      if (this.index !== 1) {\r\n        this.go(1);\r\n      }\r\n    },\r\n    last() {\r\n      if (this.index != this.pages) {\r\n        this.go(this.pages);\r\n      }\r\n    },\r\n    go(page) {\r\n      if (this.index !== page) {\r\n        this.index = page;\r\n        //父组件通过change方法来接受当前的页码\r\n        this.$emit(\"change\", this.index);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    //计算总页码\r\n    pages() {\r\n      return Math.ceil(this.size / this.limit);\r\n    },\r\n\r\n    //计算页码，当count等变化时自动计算\r\n    pagers() {\r\n      const array = [];\r\n      const perPages = this.perPages;\r\n      const pageCount = this.pages;\r\n\r\n      let current = this.index;\r\n      const _offset = (perPages - 1) / 2;\r\n\r\n      const offset = {\r\n        start: current - _offset,\r\n        end: current + _offset\r\n      };\r\n      \r\n      //-1, 3\r\n      if (offset.start < 1) {\r\n        offset.end = offset.end + (1 - offset.start);\r\n        offset.start = 1;\r\n      }\r\n      if (offset.end > pageCount) {\r\n        offset.start = offset.start - (offset.end - pageCount);\r\n        offset.end = pageCount;\r\n      }\r\n      if (offset.start < 1) offset.start = 1;\r\n\r\n      this.showPrevMore = offset.start > 1;\r\n      this.showNextMore = offset.end < pageCount;\r\n\r\n      for (let i = offset.start; i <= offset.end; i++) {\r\n        array.push(i);\r\n      }\r\n      return array;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      index: this.pageIndex, //当前页码\r\n      limit: this.pageSize, //每页显示条数\r\n      size: this.total || 1, //总记录数\r\n      showPrevMore: false,\r\n      showNextMore: false\r\n    };\r\n  },\r\n  watch: {\r\n    pageIndex(val) {\r\n      this.index = val || 1;\r\n    },\r\n    pageSize(val) {\r\n      this.limit = val || 10;\r\n    },\r\n    total(val) {\r\n      this.size = val || 1;\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["Pagination.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pagination.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <ul style=\"display: inline-block;cursor: pointer;margin:0;padding:0\"><span style=\"user-select:none;\">{{$_L.get('共')}}&nbsp;<span :style=\"{color: color}\">{{total}}</span>&nbsp;{{$_L.get('条')}}</span>\r\n    <li :class=\"['el-icon-arrow-left']\" :style=\"index === 1?'cursor: not-allowed;opacity: .3;':'background:none'\" style=\"font-weight:700;display: inline-block; margin: 0 3px; cursor: pointer;user-select:none;\" @click=\"prev\"></li>\r\n    <li :class=\"['item', 'paging-item--more']\" style=\"width: 20px;height: 20px;line-height:20px;text-align: center;font-weight:700;border-radius: 2px;display: inline-block;margin: 0 3px;cursor: pointer;user-select:none;\" v-if=\"showPrevMore\">...</li>\r\n    <li v-for=\"pager in pagers\" :key=\"pager\" @click=\"go(pager)\" style=\" width: 20px; height: 20px;line-height:20px; text-align: center;;font-weight:400;border-radius: 2px;display: inline-block;margin: 0 3px;cursor: pointer;user-select:none;\" :style=\"index === pager?`background:${color};color:#fff`:'background-color: #BDBDBD;color:#fff'\">{{ pager }}</li>\r\n    <li :class=\"['item', 'paging-item--more']\" style=\" width: 20px; height: 20px;line-height:20px; text-align: center;;font-weight:700;border-radius: 2px;display: inline-block; margin: 0 3px; cursor: pointer;user-select:none;\" v-if=\"showNextMore\">...</li>\r\n    <li :class=\"['el-icon-arrow-right']\" :style=\"index === pages?'cursor: not-allowed;opacity: .3;':'background:none'\" style=\"font-weight:700;display: inline-block;margin: 0 3px;cursor: pointer;user-select:none;\" @click=\"next\"></li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Pagination\",\r\n  props: {\r\n    perPages: {\r\n      type: Number,\r\n      default: 5\r\n    },\r\n\r\n    //当前页码\r\n    pageIndex: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    //每页显示条数\r\n    pageSize: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n\r\n    //总记录数\r\n    total: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    color: {\r\n      type: String,\r\n      default: $_theme.color\r\n    }\r\n  },\r\n  methods: {\r\n    prev() {\r\n      if (this.index > 1) {\r\n        this.go(this.index - 1);\r\n      }\r\n    },\r\n    next() {\r\n      if (this.index < this.pages) {\r\n        this.go(this.index + 1);\r\n      }\r\n    },\r\n    first() {\r\n      if (this.index !== 1) {\r\n        this.go(1);\r\n      }\r\n    },\r\n    last() {\r\n      if (this.index != this.pages) {\r\n        this.go(this.pages);\r\n      }\r\n    },\r\n    go(page) {\r\n      if (this.index !== page) {\r\n        this.index = page;\r\n        //父组件通过change方法来接受当前的页码\r\n        this.$emit(\"change\", this.index);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    //计算总页码\r\n    pages() {\r\n      return Math.ceil(this.size / this.limit);\r\n    },\r\n\r\n    //计算页码，当count等变化时自动计算\r\n    pagers() {\r\n      const array = [];\r\n      const perPages = this.perPages;\r\n      const pageCount = this.pages;\r\n\r\n      let current = this.index;\r\n      const _offset = (perPages - 1) / 2;\r\n\r\n      const offset = {\r\n        start: current - _offset,\r\n        end: current + _offset\r\n      };\r\n      \r\n      //-1, 3\r\n      if (offset.start < 1) {\r\n        offset.end = offset.end + (1 - offset.start);\r\n        offset.start = 1;\r\n      }\r\n      if (offset.end > pageCount) {\r\n        offset.start = offset.start - (offset.end - pageCount);\r\n        offset.end = pageCount;\r\n      }\r\n      if (offset.start < 1) offset.start = 1;\r\n\r\n      this.showPrevMore = offset.start > 1;\r\n      this.showNextMore = offset.end < pageCount;\r\n\r\n      for (let i = offset.start; i <= offset.end; i++) {\r\n        array.push(i);\r\n      }\r\n      return array;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      index: this.pageIndex, //当前页码\r\n      limit: this.pageSize, //每页显示条数\r\n      size: this.total || 1, //总记录数\r\n      showPrevMore: false,\r\n      showNextMore: false\r\n    };\r\n  },\r\n  watch: {\r\n    pageIndex(val) {\r\n      this.index = val || 1;\r\n    },\r\n    pageSize(val) {\r\n      this.limit = val || 10;\r\n    },\r\n    total(val) {\r\n      this.size = val || 1;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n"]}]}