{"remainingRequest":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\main\\alarm\\RealTimeAlarm\\AlarmBinContentBox.vue?vue&type=style&index=0&module=true&lang=css&","dependencies":[{"path":"D:\\cdRule\\src\\main\\alarm\\RealTimeAlarm\\AlarmBinContentBox.vue","mtime":1672993520674},{"path":"D:\\cdRule\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container{\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n.inputText{\n  width: calc(50% - 6px);\n  margin: 3px;\n  float: left;\n}\n",{"version":3,"sources":["AlarmBinContentBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AlarmBinContentBox.vue","sourceRoot":"src/main/alarm/RealTimeAlarm","sourcesContent":["<template>\r\n<div :class=\"$style.container\">\r\n  <vxe-table :data=\"tableData\" :loading=\"loading\" :class=\"$style.grid\" ref=\"table\" style=\"height: 100%;\" :auto-resize=\"true\">\r\n    <vxe-table-column field=\"dSum\" :title=\"$_L.get('总数')\" width=\"50px\" />\r\n    <vxe-table-column field=\"dSeq\" :title=\"$_L.get('序号')\" width=\"50px\" />\r\n    <vxe-table-column field=\"alarm\" :title=\"$_L.get('报警状态')\" :formatter=\"alarmAttsFunction\" width=\"120px\"/>\r\n    <vxe-table-column field=\"stts\" :title=\"$_L.get('车辆状态')\" :formatter=\"sttsFormatter\" width=\"195px\"/>\r\n    <vxe-table-column field=\"lat\" :title=\"$_L.get('纬度')\"  width=\"95px\"/>\r\n    <vxe-table-column field=\"lng\" :title=\"$_L.get('经度')\"  width=\"95px\"/>\r\n    <vxe-table-column field=\"high\" :title=\"$_L.get('卫星高程(m)')\"  width=\"95px\"/>\r\n    <vxe-table-column field=\"speed\" :title=\"$_L.get('卫星速度(km/h)')\"  width=\"120px\" :formatter=\"({cellValue}) => cellValue/10\"/>\r\n    <vxe-table-column field=\"drct\" :title=\"$_L.get('卫星方向')\"  width=\"80px\" :formatter=\"({cellValue}) => cellValue!=null?(cellValue+$_L.get('度')):''\"/>\r\n    <vxe-table-column field=\"time\" :title=\"$_L.get('时间')\"  :formatter=\"timeFormatter\" width=\"157px\"/>\r\n    <vxe-table-column field=\"acceX\" :title=\"$_L.get('X轴加速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"acceY\" :title=\"$_L.get('Y轴加速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"acceZ\" :title=\"$_L.get('Z轴角速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"anguX\" :title=\"$_L.get('X轴角速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"anguY\" :title=\"$_L.get('Y轴角速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"anguZ\" :title=\"$_L.get('Z轴角速度')\"  width=\"85px\"/>\r\n    <vxe-table-column field=\"pSp\" :title=\"$_L.get('脉冲速度')\"  width=\"75px\"/>\r\n    <vxe-table-column field=\"obdSp\" :title=\"$_L.get('OBD速度')\"  width=\"77px\"/>\r\n    <vxe-table-column field=\"gear\" :title=\"$_L.get('档位状态')\"  :formatter=\"gearFormatter\" width=\"75px\"/>\r\n    <vxe-table-column field=\"acpd\" :title=\"$_L.get('加速踏板行程值(%)')\"  width=\"135px\"/>\r\n    <vxe-table-column field=\"brpd\" :title=\"$_L.get('制动踏板行程值(%)')\"  width=\"135px\"/>/>\r\n    <vxe-table-column field=\"bpSt\" :title=\"$_L.get('制动状态')\"  :formatter=\"bpStFormatter\" width=\"75px\"/>\r\n    <vxe-table-column field=\"enSp\" :title=\"$_L.get('发动机转速(RPM)')\"  width=\"127px\"/>\r\n    <vxe-table-column field=\"angle\" :title=\"$_L.get('方向盘角度')\"  :formatter=\"({cellValue}) => cellValue!=null?(cellValue+$_L.get('度')):''\" width=\"87px\"/>\r\n    <vxe-table-column field=\"rlSt\" :title=\"$_L.get('转向灯状态')\" :formatter=\"rlStFormatter\" width=\"87px\"/>\r\n  </vxe-table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import {getFieldMap} from '@/common/gps/Fields.js';\r\n  export default {\r\n    props: {\r\n      data: { type: String, default: null},\r\n    },\r\n    data () {\r\n      return {\r\n        tableData: [],\r\n        loading: false\r\n      }\r\n    },\r\n    watch: {\r\n      data (val, oldVal) {\r\n        if(val!=oldVal){\r\n          this.getBinFile();\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      this._alarmFields = [];\r\n      let alarmFields = getFieldMap()['alarm'].children;\r\n      for(let i=0;i<alarmFields.length;i++){\r\n        if(alarmFields[i]['id'].indexOf('_v') == -1){\r\n          this._alarmFields.push(alarmFields[i]);\r\n        }\r\n      }\r\n      this._sttFields = getFieldMap()['stt'].children;\r\n    },\r\n    mounted() {\r\n      this.getBinFile();\r\n    },\r\n    methods: {\r\n      alarmAttsFunction({cellValue}){\r\n        let gps = cellValue;\r\n        if (gps == null) return '';\r\n        let text = '';\r\n        for(let i=0;i<this._alarmFields.length;i++){\r\n          let state = this._alarmFields[i].labelFunction({alarmStts: gps}, this._alarmFields[i]);\r\n          if(state == $_L.get('报警')){\r\n            text += this._alarmFields[i].title+\" | \"\r\n          }\r\n        }\r\n        return text.length>0?text:$_L.get('无报警');\r\n      },\r\n      sttsFormatter({cellValue}){\r\n        let gps = cellValue;\r\n        while(gps.length < 32) {\r\n          gps = \"0\" + gps;\r\n        }\r\n        if (!gps) return '';\r\n        let text = '';\r\n        for(let i=0;i<this._sttFields.length;i++){\r\n          let state = this._sttFields[i].labelFunction({carStts: gps}, this._sttFields[i]);\r\n          text += this._sttFields[i].title+\"：\"+state+\" | \"\r\n        }\r\n        return text;\r\n      },\r\n      bpStFormatter({cellValue}){\r\n        if(cellValue == \"00\"){\r\n          cellValue = $_L.get('无制动')\r\n        }else if(cellValue == \"01\"){\r\n          cellValue = $_L.get('有制动')\r\n        }\r\n        return cellValue\r\n      },\r\n      timeFormatter({cellValue}){\r\n        let datetime = cellValue;\r\n        if(datetime&&datetime.length == 12) {\r\n          return [20,datetime.substr(0, 2), '-', datetime.substr(2, 2), '-', datetime.substr(4, 2), ' ', datetime.substr(6, 2), ':', datetime.substr(8, 2), ':', datetime.substr(10, 2)].join('');\r\n        }\r\n        return datetime;\r\n      },\r\n      gearFormatter({cellValue}){\r\n        if(cellValue == \"00\"){\r\n          cellValue = $_L.get('空档')\r\n        }else if(cellValue == \"10\"){\r\n          cellValue = $_L.get('倒挡')\r\n        }else if(cellValue == \"11\"){\r\n          cellValue = $_L.get('驻车档')\r\n        }else{\r\n          cellValue = cellValue + $_L.get('档');\r\n        }\r\n        return cellValue\r\n      },\r\n      rlStFormatter({cellValue}){\r\n        if(cellValue == \"00\"){\r\n          cellValue = $_L.get('未开方向灯')\r\n        }else if(cellValue == \"01\"){\r\n          cellValue = $_L.get('左转方向灯')\r\n        }else if(cellValue == \"02\"){\r\n          cellValue = $_L.get('右转方向灯')\r\n        }\r\n        return cellValue\r\n      },\r\n      getBinFile(){\r\n        if(!this.data) return;\r\n        let name = this.data.split('refPath=')[1];\r\n        this.loading = true;\r\n        $_main.http.post('h5/query/media?getBinFileData',{name: name}).then(result => {\r\n          this.loading = false;\r\n          if(result){\r\n            this.tableData = result;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style module>\r\n  .container{\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .inputText{\r\n    width: calc(50% - 6px);\r\n    margin: 3px;\r\n    float: left;\r\n  }\r\n</style>"]}]}