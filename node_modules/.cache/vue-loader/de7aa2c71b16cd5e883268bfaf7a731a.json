{"remainingRequest":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\TimeSelect.vue?vue&type=style&index=0&module=true&lang=css&","dependencies":[{"path":"D:\\cdRule\\src\\components\\TimeSelect.vue","mtime":1635230123026},{"path":"D:\\cdRule\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.quickBtn{\r\n    height: 100%;\r\n    width: 25px;\r\n    margin-left: 10px;\r\n    padding: 0px 0px !important;\r\n}\r\n.timeSelectBox{\r\n    position: fixed;\r\n    margin-left: 35px;\r\n    border: 1px solid;\r\n    width: 125px;\r\n    height: 135px;\r\n    z-index: 999;\r\n    border-collapse: collapse;\r\n}\r\n.timeSelectBox td{\r\n    background-color: #fff;\r\n    border-left: 1px solid;\r\n    cursor: default;\r\n}\r\n.timeSelectBox td:hover{\r\n    background-color: #fcf0c1;\r\n}\r\n.timeSelectBox tr td:nth-child(2){\r\n    background-image: url(\"@/components/Tree/img/leaf.png\");\r\n    background-repeat: no-repeat;\r\n    background-position: 3px 50%;\r\n    padding-left: 22px;\r\n    width: 68px;\r\n}\r\n",{"version":3,"sources":["TimeSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimeSelect.vue","sourceRoot":"src/components","sourcesContent":["<!--\r\n * @Author: qiu\r\n * @Date: 2020-05-28 15:06:58\r\n * @LastEditTime: 2020-05-29 10:19:53\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\gps-h5\\src\\components\\TimeSelect.vue\r\n--> \r\n<template>\r\n  <div @click=\"timeSelectShow=false\">\r\n    <Button type=\"primary\" icon=\"el-icon-arrow-right\" radius=\"2px\" :class=\"$style.quickBtn\"   @click.stop=\"timeSelectShow=!timeSelectShow\"></Button>\r\n    <table :class=\"$style.timeSelectBox\" :style=\"{borderColor:theme.border_color_dark}\" v-show=\"timeSelectShow\">\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(1)\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>今天</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(3)\">近3天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('yesterday')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>昨天</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(5)\">近5天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('tweek')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>本周</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(7)\">近7天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('lweek')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>上周</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(10)\">近10天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('tmonth')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>本月</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(15)\">近15天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('lmonth')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>上月</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(30)\">近30天</td></tr>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getNowDate, addDateTime, getDays, dateFormat} from '@/common/util/Dates.js';\r\n\r\nexport default {\r\n  name: \"TimeSelect\",\r\n  data() {\r\n    return {\r\n      timeSelectShow: false,\r\n      search: { startTime:getNowDate(), endTime:getNowDate(), types:[]},\r\n    };\r\n  },\r\n  computed:{\r\n  },\r\n  methods: {\r\n    timeSelectClick(time){\r\n      if(time == 'yesterday'){\r\n          this.search.startTime = addDateTime(-1, 'YYYY-MM-DD');\r\n          this.search.endTime = addDateTime(-1, 'YYYY-MM-DD');\r\n      }else if(time == 'tweek'){\r\n          this.search.startTime = this.getTime(0);\r\n          this.search.endTime = getNowDate();\r\n      }else if(time == 'lweek'){\r\n          this.search.startTime = this.getTime(7);\r\n          this.search.endTime = this.getTime(1);\r\n      }else if(time == 'tmonth'){\r\n          this.search.startTime = this.getMonthTime(0);\r\n          this.search.endTime = getNowDate();\r\n      }else if(time == 'lmonth'){\r\n          this.search.startTime = this.getMonthTime(1);\r\n          this.search.endTime = this.getMonthTime(1, true);\r\n      }else{\r\n          this.search.endTime = getNowDate();\r\n          this.search.startTime = addDateTime(-(time-1), 'YYYY-MM-DD');\r\n      }\r\n      this.timeSelectShow = false;\r\n      this.$emit('getTime',this.search)    \r\n    },\r\n    getTime(n){\r\n      var now=new Date();\r\n      var year=now.getFullYear();\r\n      //因为月份是从0开始的,所以获取这个月的月份数要加1才行\r\n      var month=now.getMonth()+1;\r\n      var date=now.getDate();\r\n      var day=now.getDay();\r\n      //判断是否为周日,如果不是的话,就让今天的day-1(例如星期二就是2-1)\r\n      if(day!==0){\r\n          n=n+(day-1);\r\n      }\r\n      else{\r\n          n=n+day;\r\n      }\r\n      if(day){\r\n      //这个判断是为了解决跨年的问题\r\n          if(month>1){\r\n          month=month;\r\n          }\r\n          //这个判断是为了解决跨年的问题,月份是从0开始的\r\n          else{\r\n          year=year-1;\r\n          month=12;\r\n          }\r\n      }\r\n      now.setDate(now.getDate()-n);\r\n      return dateFormat(now);\r\n    },\r\n    getMonthTime(month, end = false){ \r\n      var now = new Date();\r\n      var nowDay = now.getDate(); //当前日 \r\n      var nowMonth = now.getMonth(); //当前月 \r\n      now.setMonth(now.getMonth()-month);\r\n      var myYear = now.getFullYear();\r\n      var myMonth = now.getMonth();\r\n\r\n      var monthStartDate = new Date(myYear, myMonth, 1);\r\n      if(end){\r\n          monthStartDate = new Date(myYear, myMonth, getDays(myYear, (myMonth+1)));\r\n      }\r\n      return dateFormat(monthStartDate); \r\n    },\r\n    isShow(){\r\n      this.timeSelectShow=false\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style module>\r\n.quickBtn{\r\n    height: 100%;\r\n    width: 25px;\r\n    margin-left: 10px;\r\n    padding: 0px 0px !important;\r\n}\r\n.timeSelectBox{\r\n    position: fixed;\r\n    margin-left: 35px;\r\n    border: 1px solid;\r\n    width: 125px;\r\n    height: 135px;\r\n    z-index: 999;\r\n    border-collapse: collapse;\r\n}\r\n.timeSelectBox td{\r\n    background-color: #fff;\r\n    border-left: 1px solid;\r\n    cursor: default;\r\n}\r\n.timeSelectBox td:hover{\r\n    background-color: #fcf0c1;\r\n}\r\n.timeSelectBox tr td:nth-child(2){\r\n    background-image: url(\"@/components/Tree/img/leaf.png\");\r\n    background-repeat: no-repeat;\r\n    background-position: 3px 50%;\r\n    padding-left: 22px;\r\n    width: 68px;\r\n}\r\n</style>\r\n\r\n   "]}]}