{"remainingRequest":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\UploadImg\\ImgPreview.vue?vue&type=style&index=0&module=true&lang=css&","dependencies":[{"path":"D:\\cdRule\\src\\components\\UploadImg\\ImgPreview.vue","mtime":1635230120803},{"path":"D:\\cdRule\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.content {\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n}\n.img{\n  margin: auto;\n  position: relative;\n}\n\n",{"version":3,"sources":["ImgPreview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImgPreview.vue","sourceRoot":"src/components/UploadImg","sourcesContent":["<template>\r\n  <Window  style=\"min-width:800px;\" id=\"w\"  :title=\"$_L.get(ImgSrc.name)||$_L.get(ImgSrc.note)\">\r\n    <div :class=\"$style.content\" ref=\"content\" id=\"content\" @mousewheel=\"rollImg()\" :style=\"'max-height:'+(imgMaxHeight-top)+'px;'\">\r\n      <img :src=\"ImgSrc.src\" :class=\"$style.img\" ref=\"img\" id=\"img\" :style=\"'height:'+height+'px;max-height:'+imgMaxHeight+'px;margin:'+margin+'px '+(-margin)+'px'\" >\r\n    </div>\r\n  </Window>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      ImgSrc: null,\r\n      rotateTimes: 0,\r\n      imgMaxHeight: 800,\r\n      margin: 0,\r\n      top: 0,\r\n      height:0\r\n    };\r\n  },\r\n  created() {\r\n    this.imgMaxHeight = document.body.clientHeight - 85.5 - 87;\r\n    let _this =this;\r\n    let img =new Image();\r\n    img.src=_this.ImgSrc.src;\r\n    img.onload=function () {\r\n      if(img.height>_this.imgMaxHeight||img.height>400){\r\n        _this.height=400;\r\n      }else{\r\n        _this.height=img.height;\r\n      }\r\n    }    \r\n  },\r\n  methods:{\r\n    rollImg(){\r\n      var zoom = parseInt(this.$refs.img.style.zoom) || 100;\r\n      zoom += event.wheelDelta / 12;\r\n      /* 最小范围 和 最大范围 的图片缩放尺度 */\r\n      let top = parseInt(this.$el.style.top.replace('px',''));\r\n      if (zoom >= 35 && zoom*this.$refs.img.height/100 < (this.imgMaxHeight-top)) {\r\n        this.$refs.img.style.zoom = zoom + \"%\";\r\n      }\r\n      return false;\r\n \r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style module>\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 400px;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    position: relative;\r\n  }\r\n  .img{\r\n    margin: auto;\r\n    position: relative;\r\n  }\r\n\r\n</style>"]}]}