{"remainingRequest":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js!D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\common\\tree\\CarTreeToolbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\cdRule\\src\\common\\tree\\CarTreeToolbar.vue","mtime":1677634046517},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchBox from \"@/components/Tree/SearchBox.vue\"; // import CarFavSetWindow from \"./CarFavSetWindow.vue\";\n// import CarGroupSetWindow from \"./CarGroupSetWindow.vue\";\n\nimport { domLeftTop } from '@/components/util/Dom.js';\nimport { objCopyTo } from '@/common/util/Objects.js';\nimport { objIsEmpty } from '@/common/util/Objects.js';\nimport { arrayRemoveItem } from '@/common/util/Arrays.js';\nimport { Fields } from '@/common/cache/CacheTeamCar.js';\nimport { getCarTreeCfg } from '@/common/cache/CacheTeamCar.js';\nimport { saveCarTreeCfg } from '@/common/cache/CacheTeamCar.js';\nimport { countState } from '@/common/cache/CacheTeamCar.js';\nimport { countFilter } from '@/common/cache/CacheTeamCar.js';\nimport { setFilterFun } from '@/common/cache/CacheTeamCar.js';\nimport { resetCarTree } from '@/common/cache/CacheTeamCar.js';\nimport { getPlateColorArray } from '@/common/Vars.js';\nimport { getCarTypeTree as _getCarTypeTree } from \"@/common/cache/CacheCmn.js\";\nimport { getTeamExtWidgets } from \"@/common/cache/CacheCmn.js\";\nimport { getFieldMap } from \"@/common/gps/Fields.js\";\nexport default {\n  components: {\n    SearchBox: SearchBox\n  },\n  props: {\n    setting: {\n      default: null\n    },\n    miniBar: {\n      type: Boolean,\n      default: false\n    },\n    treeBorder: {\n      type: Boolean,\n      default: true\n    },\n    onSearchItemSelected: Function,\n    refreshClick: Function,\n    showRecent: Function,\n    model: {\n      type: String,\n      default: null\n    },\n    // modelChg: Function,\n    onCarSortFieldChg: Function,\n    show2g4gIcon: {\n      type: Boolean,\n      default: false\n    },\n    showDyField: {\n      type: Boolean,\n      default: false\n    },\n    isSimple: {\n      type: Boolean,\n      default: false\n    }\n  },\n  _carFields: null,\n  _teamFields: null,\n  _treeId: null,\n  data: function data() {\n    return {\n      uuid: $_theme.zindex(),\n      placeholder: \"\",\n      hasOwnField: null,\n      // favshow: true,\n      // favset: false,\n      // groupshow: false,\n      // groupset: false,\n      // model: false,\n      carTreeCfg: {},\n\n      /*{\r\n        search: {carFields:['plate','tmnKey'], teamFields:[]}, //设置搜索条件\r\n        sortField: 'plate',\r\n        filters: {state:false,color:null,type:null},\r\n        showTeamCount: false/{line: true, move: false, alarm: false, invalid: false, acc: false},\r\n        showCarField:  false/{color:true, tmnKey:true, state:true, bxts: [bxtId]}\r\n      }*/\n      searchBxtFields: [],\n      searchTeamExtFields: [],\n      showTeamCount: {\n        line: false,\n        move: false,\n        alarm: false,\n        invalid: false,\n        acc: false\n      },\n      das: {\n        dj: false,\n        de: false,\n        df: false\n      },\n      showCarField: [],\n      //['color', 'tmnKey', 'state'],\n      showCarBxts: [],\n      car_bxt_list: [],\n      team_ext_list: [],\n      searchSet: {\n        show: false,\n        left: 0,\n        top: 0\n      },\n      renderSet: {\n        show: false,\n        left: 0,\n        top: 0\n      },\n      showcount: 0,\n      simple: false,\n      colors: getPlateColorArray()\n    };\n  },\n  computed: {\n    hw: function hw() {\n      return this.miniBar ? 27 : this.theme.inputHeight;\n    },\n    mini: function mini() {\n      return this.miniBar;\n    },\n    getCarTypeTree: function getCarTypeTree() {\n      return _getCarTypeTree;\n    },\n    states: function states() {\n      return [{\n        label: $_L.get('在线车辆'),\n        value: 'online'\n      }, {\n        label: $_L.get('离线车辆'),\n        value: 'offline'\n      }, {\n        label: $_L.get('行驶车辆'),\n        value: 'move'\n      }, {\n        label: $_L.get('停止车辆'),\n        value: 'stop'\n      }, {\n        label: $_L.get('报警车辆'),\n        value: 'alarm'\n      }, {\n        label: $_L.get('无效定位'),\n        value: 'invalid'\n      }];\n    }\n  },\n  watch: {\n    'searchSet.show': function searchSetShow(v) {\n      var _this = this;\n\n      if (!v) return document.removeEventListener('click', this.clickSearchSet);\n\n      var _domLeftTop = domLeftTop(this.$el),\n          left = _domLeftTop.left,\n          top = _domLeftTop.top;\n\n      this.searchSet.left = left - 1;\n      this.searchSet.top = top + this.$el.clientHeight;\n      setTimeout(function () {\n        document.addEventListener('click', _this.clickSearchSet);\n      }, 10);\n    },\n    'renderSet.show': function renderSetShow(v) {\n      var _this2 = this;\n\n      if (!v) return document.removeEventListener('click', this.clickRenderSet);\n\n      var _domLeftTop2 = domLeftTop(this.$el),\n          left = _domLeftTop2.left,\n          top = _domLeftTop2.top;\n\n      if (left + this.$el.clientWidth + 260 > document.documentElement.clientWidth) {\n        left = left + this.$el.clientWidth - 260 + 1;\n        top += this.$el.clientHeight;\n      } else {\n        left = left + this.$el.clientWidth;\n        top -= 1;\n      }\n\n      this.renderSet.left = left;\n      this.renderSet.top = top;\n      setTimeout(function () {\n        document.addEventListener('click', _this2.clickRenderSet);\n      }, 10);\n    }\n  },\n  created: function created() {\n    this.simple = this.isSimple;\n    var map = getFieldMap();\n    this.das.dj = $_H.show('da') && $_H.show('dc') && !!map.t0;\n    this.das.de = $_H.show('da') && $_H.show('de') && !!map.t1;\n    this.das.df = $_H.show('da') && $_H.show('df') && !!map.t2;\n    $_H.show('da') && $_H.show('dc') && this.showcount++;\n    $_H.show('da') && $_H.show('db') && this.showcount++;\n    $_H.show('da') && $_H.show('di') && this.showcount++;\n    this.das.dj && this.showcount++;\n    this.das.de && this.showcount++;\n    this.das.df && this.showcount++;\n    $_H.show('da') && $_H.show('dg') && this.showcount++;\n    $_H.show('da') && $_H.show('dh') && this.showcount++;\n    $_H.show('da') && $_H.show('dr') && this.showDyField && this.showcount++;\n    $_H.show('da') && $_H.show('dl') && this.showDyField && this.showcount++;\n    $_H.show('da') && $_H.show('ds') && this.showDyField && this.showcount++;\n    $_H.show('da') && $_H.show('dt') && this.showDyField && this.showcount++;\n    $_H.show('da') && $_H.show('dq') && this.showDyField && this.showcount++;\n    $_H.show('da') && $_H.show('dk') && this.show2g4gIcon && this.showcount++;\n    this.team_ext_list = getTeamExtWidgets() || this.team_ext_list;\n  },\n  mounted: function mounted() {\n    // this.favshow = this.setting.favshow !== false;\n    // this.favset = this.setting.favset === true;\n    // this.groupshow = this.setting.groupshow !== false;\n    // this.groupset = this.setting.groupset === true;\n    this.carTreeCfg = getCarTreeCfg();\n    this.carTreeCfg.showTeamCount && objCopyTo(this.carTreeCfg.showTeamCount, this.showTeamCount);\n\n    if (this.carTreeCfg.showCarField) {\n      this.carTreeCfg.showCarField.color && this.showCarField.push('color');\n      this.carTreeCfg.showCarField.tmnKey && this.showCarField.push('tmnKey');\n      this.carTreeCfg.showCarField.simCard && this.showCarField.push('simCard');\n      this.carTreeCfg.showCarField.tmnNo && this.showCarField.push('tmnNo');\n      this.carTreeCfg.showCarField.driver && this.showCarField.push('driver');\n      this.carTreeCfg.showCarField.state && this.showCarField.push('state');\n      this.carTreeCfg.showCarField.acc && this.showCarField.push('acc');\n      this.carTreeCfg.showCarField.speed && this.showCarField.push('speed');\n      this.carTreeCfg.showCarField.rsl && this.showCarField.push('rsl');\n      this.carTreeCfg.showCarField.ool && this.showCarField.push('ool');\n      this.carTreeCfg.showCarField.area && this.showCarField.push('area');\n      this.carTreeCfg.showCarField.g24 && this.showCarField.push('g24');\n      this.showCarBxts = this.carTreeCfg.showCarField.bxts || this.showCarBxts;\n    }\n  },\n  methods: {\n    init: function init(car_bxt_list) {\n      var _this3 = this;\n\n      var map = getFieldMap();\n      car_bxt_list.forEach(function (bxt) {\n        return map[bxt.id] && _this3.car_bxt_list.push(bxt);\n      });\n      var carFields = this.carTreeCfg.search.carFields;\n      this.car_bxt_list.forEach(function (bxt) {\n        return carFields.indexOf('bxts.' + bxt.id) > -1 && _this3.searchBxtFields.push(bxt.id);\n      });\n      var teamFields = this.carTreeCfg.search.teamFields;\n      this.team_ext_list.forEach(function (ext) {\n        return teamFields.indexOf('exts.' + ext.id) > -1 && _this3.searchTeamExtFields.push(ext.id);\n      });\n      this.setSearchField();\n    },\n    setTree: function setTree(tree) {\n      this._treeId = tree.setting.treeId;\n      this.$refs.searchBox.setTree(tree);\n    },\n    searchBxtChg: function searchBxtChg() {\n      var carFields = this.carTreeCfg.search.carFields;\n      this.car_bxt_list.forEach(function (bxt) {\n        return arrayRemoveItem(carFields, 'bxts.' + bxt.id);\n      });\n      this.searchBxtFields && this.searchBxtFields.forEach(function (bxtId) {\n        return carFields.push('bxts.' + bxtId);\n      });\n      saveCarTreeCfg();\n      this.setSearchField();\n    },\n    searchTeamExtChg: function searchTeamExtChg() {\n      var teamFields = this.carTreeCfg.search.teamFields;\n      this.team_ext_list.forEach(function (ext) {\n        return arrayRemoveItem(teamFields, 'exts.' + ext.id);\n      });\n      this.searchTeamExtFields && this.searchTeamExtFields.forEach(function (bxtId) {\n        return teamFields.push('exts.' + bxtId);\n      });\n      saveCarTreeCfg();\n      this.setSearchField();\n    },\n    setSearchField: function setSearchField() {\n      var _this4 = this;\n\n      var carFields = this.carTreeCfg.search.carFields,\n          teamFields = this.carTreeCfg.search.teamFields;\n\n      if (carFields.length == 0 && teamFields.length == 0) {\n        carFields.push('plate');\n      }\n\n      this._carFields = carFields.length > 0 ? carFields : null;\n      this._teamFields = teamFields.length > 0 ? teamFields : null;\n      this.hasOwnField = this._carFields && this._teamFields ? null : this._carFields ? 'plate' : 'pid';\n      var placeholder = [];\n\n      if (this._carFields) {\n        this._carFields.indexOf('plate') > -1 && placeholder.push($_L.get('车牌号码'));\n        this._carFields.indexOf('carname') > -1 && placeholder.push($_L.get('车辆名称'));\n        this._carFields.indexOf('tmnKey') > -1 && placeholder.push($_L.get('终端标识'));\n        this._carFields.indexOf('simCard') > -1 && placeholder.push($_L.get('SIM卡号'));\n        this.car_bxt_list.forEach(function (bxt) {\n          return _this4._carFields.indexOf('bxts.' + bxt.id) > -1 && placeholder.push(bxt.name);\n        });\n      }\n\n      if (this._teamFields) {\n        this._teamFields.indexOf('teamname') > -1 && placeholder.push($_L.get('车队名称'));\n        this._teamFields.indexOf('linkman') > -1 && placeholder.push($_L.get('联系人员'));\n        this._teamFields.indexOf('phone') > -1 && placeholder.push($_L.get('联系电话'));\n        this.team_ext_list.forEach(function (ext) {\n          return _this4._teamFields.indexOf('exts.' + ext.id) > -1 && placeholder.push(ext.name);\n        });\n      }\n\n      this.placeholder = placeholder.join('｜');\n    },\n    searchFun: function searchFun(node, text, array) {\n      if (node[this._treeId].hide) return false;\n      return this.contain(node, text, array, node.plate ? this._carFields : this._teamFields);\n    },\n    contain: function contain(node, text, array, fields) {\n      if (!fields) return false;\n      var fun;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n          fun = Fields[field];\n\n          if (fun) {\n            field = fun(node, field);\n          } else {\n            fields = field.split('.'); // bxts.id | exts.id\n\n            fun = Fields[fields[0]];\n            field = fun(node, fields[1] + '.text') || fun(node, fields[1]);\n          }\n\n          if (!field) continue;\n          if (text && field.toLowerCase().indexOf(text) >= 0 || array && array.has(field)) return true;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return false;\n    },\n    // favSetClick() {\n    //   $_popup.open(CarFavSetWindow);\n    // },\n    // groupSetClick() {\n    //   $_popup.open(CarGroupSetWindow);\n    // },\n    clickSearchSet: function clickSearchSet(event) {\n      this.searchSet.show = this.$refs.searchSet.contains(event.target);\n    },\n    clickRenderSet: function clickRenderSet(event) {\n      this.renderSet.show = this.$refs.renderSet.contains(event.target);\n    },\n    searchSetChg: function searchSetChg() {\n      saveCarTreeCfg();\n      this.setSearchField();\n    },\n    setTeamCount: function setTeamCount(field) {\n      var before = this.carTreeCfg.showTeamCount;\n\n      this._setShowCfg('showTeamCount', field, this.showTeamCount[field]);\n\n      !before && this.carTreeCfg.showTeamCount && countState();\n      resetCarTree('updateNodeName', false, true);\n    },\n    carSortFieldChg: function carSortFieldChg() {\n      saveCarTreeCfg();\n      resetCarTree('updateNodeName', true, false);\n      this.onCarSortFieldChg && this.onCarSortFieldChg();\n    },\n    showCarFieldChg: function showCarFieldChg(field) {\n      var flag = this.showCarField.indexOf(field) != -1;\n\n      this._setShowCfg('showCarField', field, flag);\n\n      if (field == 'acc' || field == 'speed' || field == 'rsl' || field == 'ool' || field == 'area') {\n        //ACC、速度和地区，特殊处理，需要后台推数据\n        this.$parent._dyfield.onFieldCheck(field, flag);\n\n        !flag && resetCarTree('updateNodeName', true, false);\n      } else {\n        resetCarTree('updateNodeName', true, false);\n      }\n    },\n    showCarBxtsChg: function showCarBxtsChg() {\n      this._setShowCfg('showCarField', 'bxts', !this.showCarBxts || this.showCarBxts.length == 0 ? false : this.showCarBxts);\n\n      resetCarTree('updateNodeName', true, false);\n    },\n    carFilterChg: function carFilterChg() {\n      saveCarTreeCfg();\n      setFilterFun();\n      this.carTreeCfg.hasFilter && countFilter();\n      resetCarTree('updateNodeHide', true, true);\n      resetCarTree('updateNodeName', false, true);\n    },\n    _setShowCfg: function _setShowCfg(item, key, value) {\n      var cfg = this.carTreeCfg[item];\n      if (!cfg && !value) return;\n\n      if (!value) {\n        cfg && delete cfg[key];\n        if (objIsEmpty(cfg)) cfg = false;\n      } else {\n        cfg = cfg || {};\n        cfg[key] = value;\n      }\n\n      this.carTreeCfg[item] = cfg;\n      saveCarTreeCfg();\n    },\n    showTip: function showTip(tip, color) {\n      this.$refs.searchBox.clear();\n      this.$refs.searchBox.showTip(tip, color);\n    },\n    destroy: function destroy() {\n      this.$refs.searchBox.clear();\n      this.$refs.searchBox.setTree(null);\n      this._carFields = null;\n      this._teamFields = null;\n    }\n  }\n};",{"version":3,"sources":["CarTreeToolbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA,OAAA,SAAA,MAAA,iCAAA,C,CACA;AACA;;AAEA,SAAA,UAAA,QAAA,0BAAA;AACA,SAAA,SAAA,QAAA,0BAAA;AACA,SAAA,UAAA,QAAA,0BAAA;AACA,SAAA,eAAA,QAAA,yBAAA;AACA,SAAA,MAAA,QAAA,gCAAA;AACA,SAAA,aAAA,QAAA,gCAAA;AACA,SAAA,cAAA,QAAA,gCAAA;AACA,SAAA,UAAA,QAAA,gCAAA;AACA,SAAA,WAAA,QAAA,gCAAA;AACA,SAAA,YAAA,QAAA,gCAAA;AACA,SAAA,YAAA,QAAA,gCAAA;AACA,SAAA,kBAAA,QAAA,kBAAA;AACA,SAAA,cAAA,IAAA,eAAA,QAAA,4BAAA;AACA,SAAA,iBAAA,QAAA,4BAAA;AAEA,SAAA,WAAA,QAAA,wBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KADA;AAEA,IAAA,OAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAFA;AAGA,IAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAHA;AAIA,IAAA,oBAAA,EAAA,QAJA;AAKA,IAAA,YAAA,EAAA,QALA;AAMA,IAAA,UAAA,EAAA,QANA;AAOA,IAAA,KAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAPA;AAQA;AACA,IAAA,iBAAA,EAAA,QATA;AAUA,IAAA,YAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAVA;AAWA,IAAA,WAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAXA;AAYA,IAAA,QAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA;AAZA,GAFA;AAiBA,EAAA,UAAA,EAAA,IAjBA;AAkBA,EAAA,WAAA,EAAA,IAlBA;AAmBA,EAAA,OAAA,EAAA,IAnBA;AAqBA,EAAA,IArBA,kBAqBA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,IAHA;AAIA;AACA;AACA;AACA;AACA;AACA,MAAA,UAAA,EAAA,EATA;;AAUA;;;;;;;AAOA,MAAA,eAAA,EAAA,EAjBA;AAkBA,MAAA,mBAAA,EAAA,EAlBA;AAmBA,MAAA,aAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,OAAA,EAAA,KAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAnBA;AAoBA,MAAA,GAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAA;AAAA,QAAA,EAAA,EAAA,KAAA;AAAA,QAAA,EAAA,EAAA;AAAA,OApBA;AAqBA,MAAA,YAAA,EAAA,EArBA;AAqBA;AACA,MAAA,WAAA,EAAA,EAtBA;AAuBA,MAAA,YAAA,EAAA,EAvBA;AAwBA,MAAA,aAAA,EAAA,EAxBA;AAyBA,MAAA,SAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,IAAA,EAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAzBA;AA0BA,MAAA,SAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,IAAA,EAAA,CAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OA1BA;AA2BA,MAAA,SAAA,EAAA,CA3BA;AA4BA,MAAA,MAAA,EAAA,KA5BA;AA6BA,MAAA,MAAA,EAAA,kBAAA;AA7BA,KAAA;AA+BA,GArDA;AAuDA,EAAA,QAAA,EAAA;AACA,IAAA,EAAA,EAAA,cAAA;AAAA,aAAA,KAAA,OAAA,GAAA,EAAA,GAAA,KAAA,KAAA,CAAA,WAAA;AAAA,KADA;AAEA,IAAA,IAAA,EAAA,gBAAA;AAAA,aAAA,KAAA,OAAA;AAAA,KAFA;AAGA,IAAA,cAAA,EAAA;AAAA,aAAA,eAAA;AAAA,KAHA;AAIA,IAAA,MAAA,EAAA,kBAAA;AAAA,aAAA,CAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,EAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA,CAAA;AAAA;AAJA,GAvDA;AA8DA,EAAA,KAAA,EAAA;AACA,sBAAA,uBAAA,CAAA,EAAA;AAAA;;AACA,UAAA,CAAA,CAAA,EAAA,OAAA,QAAA,CAAA,mBAAA,CAAA,OAAA,EAAA,KAAA,cAAA,CAAA;;AADA,wBAEA,UAAA,CAAA,KAAA,GAAA,CAFA;AAAA,UAEA,IAFA,eAEA,IAFA;AAAA,UAEA,GAFA,eAEA,GAFA;;AAGA,WAAA,SAAA,CAAA,IAAA,GAAA,IAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,CAAA,YAAA;AACA,MAAA,UAAA,CAAA,YAAA;AAAA,QAAA,QAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,KAAA,CAAA,cAAA;AAAA,OAAA,EAAA,EAAA,CAAA;AACA,KAPA;AAQA,sBAAA,uBAAA,CAAA,EAAA;AAAA;;AACA,UAAA,CAAA,CAAA,EAAA,OAAA,QAAA,CAAA,mBAAA,CAAA,OAAA,EAAA,KAAA,cAAA,CAAA;;AADA,yBAEA,UAAA,CAAA,KAAA,GAAA,CAFA;AAAA,UAEA,IAFA,gBAEA,IAFA;AAAA,UAEA,GAFA,gBAEA,GAFA;;AAGA,UAAA,IAAA,GAAA,KAAA,GAAA,CAAA,WAAA,GAAA,GAAA,GAAA,QAAA,CAAA,eAAA,CAAA,WAAA,EAAA;AACA,QAAA,IAAA,GAAA,IAAA,GAAA,KAAA,GAAA,CAAA,WAAA,GAAA,GAAA,GAAA,CAAA;AACA,QAAA,GAAA,IAAA,KAAA,GAAA,CAAA,YAAA;AACA,OAHA,MAGA;AACA,QAAA,IAAA,GAAA,IAAA,GAAA,KAAA,GAAA,CAAA,WAAA;AACA,QAAA,GAAA,IAAA,CAAA;AACA;;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,GAAA,GAAA,GAAA;AACA,MAAA,UAAA,CAAA,YAAA;AAAA,QAAA,QAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,MAAA,CAAA,cAAA;AAAA,OAAA,EAAA,EAAA,CAAA;AACA;AArBA,GA9DA;AAsFA,EAAA,OAtFA,qBAsFA;AACA,SAAA,MAAA,GAAA,KAAA,QAAA;AACA,QAAA,GAAA,GAAA,WAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,GAAA,CAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AACA,SAAA,GAAA,CAAA,EAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,KAAA,SAAA,EAAA;AACA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,KAAA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,SAAA,aAAA,GAAA,iBAAA,MAAA,KAAA,aAAA;AACA,GA3GA;AA6GA,EAAA,OA7GA,qBA6GA;AACA;AACA;AACA;AACA;AACA,SAAA,UAAA,GAAA,aAAA,EAAA;AACA,SAAA,UAAA,CAAA,aAAA,IAAA,SAAA,CAAA,KAAA,UAAA,CAAA,aAAA,EAAA,KAAA,aAAA,CAAA;;AACA,QAAA,KAAA,UAAA,CAAA,YAAA,EAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,KAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,MAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,OAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,KAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,MAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,KAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,GAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,KAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,GAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,GAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,IAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,MAAA,CAAA;AACA,WAAA,UAAA,CAAA,YAAA,CAAA,GAAA,IAAA,KAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,WAAA,WAAA,GAAA,KAAA,UAAA,CAAA,YAAA,CAAA,IAAA,IAAA,KAAA,WAAA;AACA;AACA,GAnIA;AAqIA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,YADA,EACA;AAAA;;AACA,UAAA,GAAA,GAAA,WAAA,EAAA;AACA,MAAA,YAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,GAAA,CAAA,EAAA,CAAA,IAAA,MAAA,CAAA,YAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAAA,OAAA;AACA,UAAA,SAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,YAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,SAAA,CAAA,OAAA,CAAA,UAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA;AAAA,OAAA;AACA,UAAA,UAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,UAAA;AACA,WAAA,aAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,UAAA,CAAA,OAAA,CAAA,UAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,MAAA,CAAA,mBAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA;AAAA,OAAA;AACA,WAAA,cAAA;AACA,KATA;AAUA,IAAA,OAVA,mBAUA,IAVA,EAUA;AACA,WAAA,OAAA,GAAA,IAAA,CAAA,OAAA,CAAA,MAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA,IAAA;AACA,KAbA;AAcA,IAAA,YAdA,0BAcA;AACA,UAAA,SAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,SAAA;AACA,WAAA,YAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,eAAA,CAAA,SAAA,EAAA,UAAA,GAAA,CAAA,EAAA,CAAA;AAAA,OAAA;AACA,WAAA,eAAA,IAAA,KAAA,eAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,eAAA,SAAA,CAAA,IAAA,CAAA,UAAA,KAAA,CAAA;AAAA,OAAA,CAAA;AACA,MAAA,cAAA;AACA,WAAA,cAAA;AACA,KApBA;AAqBA,IAAA,gBArBA,8BAqBA;AACA,UAAA,UAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,UAAA;AACA,WAAA,aAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,eAAA,CAAA,UAAA,EAAA,UAAA,GAAA,CAAA,EAAA,CAAA;AAAA,OAAA;AACA,WAAA,mBAAA,IAAA,KAAA,mBAAA,CAAA,OAAA,CAAA,UAAA,KAAA;AAAA,eAAA,UAAA,CAAA,IAAA,CAAA,UAAA,KAAA,CAAA;AAAA,OAAA,CAAA;AACA,MAAA,cAAA;AACA,WAAA,cAAA;AACA,KA3BA;AA4BA,IAAA,cA5BA,4BA4BA;AAAA;;AACA,UAAA,SAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,SAAA;AAAA,UAAA,UAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,UAAA;;AACA,UAAA,SAAA,CAAA,MAAA,IAAA,CAAA,IAAA,UAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,SAAA,CAAA,IAAA,CAAA,OAAA;AACA;;AACA,WAAA,UAAA,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,UAAA,CAAA,MAAA,GAAA,CAAA,GAAA,UAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,KAAA,UAAA,IAAA,KAAA,WAAA,GAAA,IAAA,GAAA,KAAA,UAAA,GAAA,OAAA,GAAA,KAAA;AACA,UAAA,WAAA,GAAA,EAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,aAAA,UAAA,CAAA,OAAA,CAAA,OAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,OAAA,CAAA,SAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,OAAA,CAAA,QAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,OAAA,CAAA,SAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,OAAA,CAAA,CAAA;AACA,aAAA,YAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,MAAA,CAAA,UAAA,CAAA,OAAA,CAAA,UAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AAAA,SAAA;AACA;;AACA,UAAA,KAAA,WAAA,EAAA;AACA,aAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,WAAA,CAAA,OAAA,CAAA,SAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,WAAA,CAAA,OAAA,CAAA,OAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,aAAA,aAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,MAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA,IAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AAAA,SAAA;AACA;;AACA,WAAA,WAAA,GAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,KAnDA;AAoDA,IAAA,SApDA,qBAoDA,IApDA,EAoDA,IApDA,EAoDA,KApDA,EAoDA;AACA,UAAA,IAAA,CAAA,KAAA,OAAA,CAAA,CAAA,IAAA,EAAA,OAAA,KAAA;AACA,aAAA,KAAA,OAAA,CAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,IAAA,CAAA,KAAA,GAAA,KAAA,UAAA,GAAA,KAAA,WAAA,CAAA;AACA,KAvDA;AAwDA,IAAA,OAxDA,mBAwDA,IAxDA,EAwDA,IAxDA,EAwDA,KAxDA,EAwDA,MAxDA,EAwDA;AACA,UAAA,CAAA,MAAA,EAAA,OAAA,KAAA;AACA,UAAA,GAAA;AAFA;AAAA;AAAA;;AAAA;AAGA,6BAAA,MAAA,8HAAA;AAAA,cAAA,KAAA;AACA,UAAA,GAAA,GAAA,MAAA,CAAA,KAAA,CAAA;;AACA,cAAA,GAAA,EAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA,EAAA,KAAA,CAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,GAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CADA,CACA;;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,GAAA,GAAA,CAAA,IAAA,EAAA,MAAA,CAAA,CAAA,CAAA,GAAA,OAAA,CAAA,IAAA,GAAA,CAAA,IAAA,EAAA,MAAA,CAAA,CAAA,CAAA,CAAA;AACA;;AACA,cAAA,CAAA,KAAA,EAAA;AACA,cAAA,IAAA,IAAA,KAAA,CAAA,WAAA,GAAA,OAAA,CAAA,IAAA,KAAA,CAAA,IAAA,KAAA,IAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,EAAA,OAAA,IAAA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeA,aAAA,KAAA;AACA,KAxEA;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,cA/EA,0BA+EA,KA/EA,EA+EA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,KAjFA;AAkFA,IAAA,cAlFA,0BAkFA,KAlFA,EAkFA;AACA,WAAA,SAAA,CAAA,IAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,KApFA;AAqFA,IAAA,YArFA,0BAqFA;AACA,MAAA,cAAA;AACA,WAAA,cAAA;AACA,KAxFA;AAyFA,IAAA,YAzFA,wBAyFA,KAzFA,EAyFA;AACA,UAAA,MAAA,GAAA,KAAA,UAAA,CAAA,aAAA;;AACA,WAAA,WAAA,CAAA,eAAA,EAAA,KAAA,EAAA,KAAA,aAAA,CAAA,KAAA,CAAA;;AACA,OAAA,MAAA,IAAA,KAAA,UAAA,CAAA,aAAA,IAAA,UAAA,EAAA;AACA,MAAA,YAAA,CAAA,gBAAA,EAAA,KAAA,EAAA,IAAA,CAAA;AACA,KA9FA;AA+FA,IAAA,eA/FA,6BA+FA;AACA,MAAA,cAAA;AACA,MAAA,YAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA,WAAA,iBAAA,IAAA,KAAA,iBAAA,EAAA;AACA,KAnGA;AAoGA,IAAA,eApGA,2BAoGA,KApGA,EAoGA;AACA,UAAA,IAAA,GAAA,KAAA,YAAA,CAAA,OAAA,CAAA,KAAA,KAAA,CAAA,CAAA;;AACA,WAAA,WAAA,CAAA,cAAA,EAAA,KAAA,EAAA,IAAA;;AACA,UAAA,KAAA,IAAA,KAAA,IAAA,KAAA,IAAA,OAAA,IAAA,KAAA,IAAA,KAAA,IAAA,KAAA,IAAA,KAAA,IAAA,KAAA,IAAA,MAAA,EAAA;AAAA;AACA,aAAA,OAAA,CAAA,QAAA,CAAA,YAAA,CAAA,KAAA,EAAA,IAAA;;AACA,SAAA,IAAA,IAAA,YAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA,OAHA,MAGA;AACA,QAAA,YAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA;AACA,KA7GA;AA8GA,IAAA,cA9GA,4BA8GA;AACA,WAAA,WAAA,CAAA,cAAA,EAAA,MAAA,EAAA,CAAA,KAAA,WAAA,IAAA,KAAA,WAAA,CAAA,MAAA,IAAA,CAAA,GAAA,KAAA,GAAA,KAAA,WAAA;;AACA,MAAA,YAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,KAAA,CAAA;AACA,KAjHA;AAkHA,IAAA,YAlHA,0BAkHA;AACA,MAAA,cAAA;AACA,MAAA,YAAA;AACA,WAAA,UAAA,CAAA,SAAA,IAAA,WAAA,EAAA;AACA,MAAA,YAAA,CAAA,gBAAA,EAAA,IAAA,EAAA,IAAA,CAAA;AACA,MAAA,YAAA,CAAA,gBAAA,EAAA,KAAA,EAAA,IAAA,CAAA;AACA,KAxHA;AAyHA,IAAA,WAzHA,uBAyHA,IAzHA,EAyHA,GAzHA,EAyHA,KAzHA,EAyHA;AACA,UAAA,GAAA,GAAA,KAAA,UAAA,CAAA,IAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,CAAA,KAAA,EAAA;;AACA,UAAA,CAAA,KAAA,EAAA;AACA,QAAA,GAAA,IAAA,OAAA,GAAA,CAAA,GAAA,CAAA;AACA,YAAA,UAAA,CAAA,GAAA,CAAA,EAAA,GAAA,GAAA,KAAA;AACA,OAHA,MAGA;AACA,QAAA,GAAA,GAAA,GAAA,IAAA,EAAA;AACA,QAAA,GAAA,CAAA,GAAA,CAAA,GAAA,KAAA;AACA;;AACA,WAAA,UAAA,CAAA,IAAA,IAAA,GAAA;AACA,MAAA,cAAA;AACA,KArIA;AAsIA,IAAA,OAtIA,mBAsIA,GAtIA,EAsIA,KAtIA,EAsIA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA,GAAA,EAAA,KAAA;AACA,KAzIA;AA0IA,IAAA,OA1IA,qBA0IA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA;AA/IA;AArIA,CAAA","sourcesContent":["\r\n<template>\r\n  <Toolbar :border=\"false\" small :mini=\"mini\" :style=\"[simple?{padding:'0'}:{borderBottom:'1px solid',borderColor:theme.border_color_light}]\" :bgc=\"theme.tree_toolbar_bg_color\">\r\n    <Button type=\"light\" style=\"padding:2px 0 0 0;\" icon=\"el-icon-search\" :radius=\"theme.input_radius_l\" :height=\"hw\" :style=\"{width:`${hw}px`,borderColor:simple?theme.border_color_dark:theme.border_color_light}\" @click=\"searchSet.show=!searchSet.show\" />\r\n    <SearchBox ref=\"searchBox\" style=\"margin-left:-1px\" :style=\"{width:`calc(100% - ${mini?(simple?26:84):(simple?31:103)}px`}\" :radius=\"simple?theme.input_radius_r:'0px'\" :height=\"hw\" border :borderColor=\"simple?theme.border_color_dark:theme.border_color_light\" :treeBorder=\"treeBorder\" :showSearchIcon=\"false\" :placeholder=\"placeholder\" :hasOwnField=\"hasOwnField\" :searchFun=\"searchFun\" :onItemSelected=\"onSearchItemSelected\" @blankinput=\"showRecent\" @blankclick=\"showRecent\" />\r\n    <Button v-if=\"!simple\" type=\"light\" style=\"margin-left:-1px;padding:2px 0 0 0;\" :height=\"hw\" :style=\"{width:`${hw}px`}\" radius=\"0px\" icon=\"el-icon-refresh-right\" @click=\"refreshClick\" />\r\n    <Button v-if=\"!simple\" type=\"light\" style=\"margin-left:-1px;padding:2px 0 0 0;\" :height=\"hw\" :style=\"{width:`${hw}px`}\" :radius=\"theme.input_radius_r\" icon=\"el-icon-setting\" @click=\"renderSet.show=!renderSet.show\" />\r\n\r\n    <div ref=\"searchSet\" :class=\"$style.setter\" v-if=\"searchSet.show\" :style=\"[{left:searchSet.left+'px',top:searchSet.top+'px',zIndex:searchSet.show && theme.zindex(), borderColor:theme.border_color_light},theme.popup]\">\r\n      <div v-if=\"$_H.show('e0')\" :class=\"$style.title\" style=\"line-height:30px\"> {{$_L.get('车辆搜索选项')}} </div>\r\n      <Checkbox v-if=\"$_H.show('e0')&&$_H.show('e2')\" :label=\"$_L.get('车牌号码')\" :class=\"$style.item\" val=\"plate\" v-model=\"carTreeCfg.search.carFields\" @change=\"searchSetChg\" />\r\n      <Checkbox v-if=\"$_H.show('e0')&&$_H.show('e1')\" :label=\"$_L.get('车辆名称')\" :class=\"$style.item\" val=\"carname\" v-model=\"carTreeCfg.search.carFields\" @change=\"searchSetChg\" />\r\n      <Checkbox v-if=\"$_H.show('e0')&&$_H.show('e6')\" :label=\"$_L.get('终端标识')\" :class=\"$style.item\" val=\"tmnKey\" v-model=\"carTreeCfg.search.carFields\" @change=\"searchSetChg\" />\r\n      <Checkbox v-if=\"$_H.show('e0')&&$_H.show('e4')\" :label=\"$_L.get('SIM卡号')\" :class=\"$style.item\" val=\"simCard\" v-model=\"carTreeCfg.search.carFields\" @change=\"searchSetChg\" />\r\n      <InputSelect v-if=\"car_bxt_list.length&&$_H.show('e0')&&$_H.show('e3')\" :height=\"30\" :class=\"$style.item\" :placeholder=\"$_L.get('更多选项')\" :options=\"car_bxt_list\" valueField=\"id\" labelField=\"name\" checkbox clearable :showCheckAll=\"false\" borderColor=\"#E8EAED\" :maxListNum=\"6\" :focusable=\"false\" v-model=\"searchBxtFields\" radius=\"0px\" style=\"padding-left:0px!important;border-left:0;border-right:0;width:calc(100% + 1px) !important;\" @change=\"searchBxtChg\" />\r\n\r\n      <div v-if=\"$_H.show('em')\" :class=\"$style.title\" style=\"line-height:30px\"> {{$_L.get('车队搜索选项')}} </div>\r\n      <Checkbox v-if=\"$_H.show('em')&&$_H.show('en')\" :label=\"$_L.get('车队名称')\" :class=\"$style.item\" val=\"teamname\" v-model=\"carTreeCfg.search.teamFields\" @change=\"searchSetChg\" />\r\n      <Checkbox v-if=\"$_H.show('em')&&$_H.show('eo')\" :label=\"$_L.get('联系人员')\" :class=\"$style.item\" val=\"linkman\" v-model=\"carTreeCfg.search.teamFields\" @change=\"searchSetChg\" />\r\n      <Checkbox v-if=\"$_H.show('em')&&$_H.show('ep')\" :label=\"$_L.get('联系电话')\" :class=\"$style.item\" val=\"phone\" v-model=\"carTreeCfg.search.teamFields\" @change=\"searchSetChg\" />\r\n      <InputSelect v-if=\"team_ext_list.length&&$_H.show('em')&&$_H.show('eq')\" :height=\"30\" :class=\"$style.item\" :placeholder=\"$_L.get('更多选项')\" :options=\"team_ext_list\" valueField=\"id\" labelField=\"name\" checkbox clearable :showCheckAll=\"false\" borderColor=\"#E8EAED\" :maxListNum=\"6\" :focusable=\"false\" v-model=\"searchTeamExtFields\" radius=\"0px\" style=\"padding-left:0px!important;border-left:0;border-right:0;width:calc(100% + 1px) !important;\" @change=\"searchTeamExtChg\" />\r\n    </div>\r\n\r\n    <div ref=\"renderSet\" :class=\"$style.setter\" v-if=\"renderSet.show\" :style=\"[{left:renderSet.left+'px', top:renderSet.top+'px', zIndex:renderSet.show && theme.zindex(), borderColor:theme.border_color_light},theme.popup]\">\r\n      <!-- <div v-if=\"favshow\" :class=\"$style.title\" style=\"line-height:30px;\">{{$_L.get('分类显示')}}</div>\r\n        <Radio v-if=\"favshow\" :label=\"$_L.get('车队车辆')\" :class=\"$style.item\" :name=\"`g_${uuid}`\" :true=\"false\" v-model=\"model\" @change=\"modelChg\"/>\r\n        <Radio v-if=\"favshow\" :label=\"$_L.get('收藏车辆')\" :class=\"$style.item\" :name=\"`g_${uuid}`\" true=\"fav\"    v-model=\"model\" @change=\"modelChg\"/>\r\n        <Radio v-if=\"groupshow\" :label=\"$_L.get('分组车辆')\" :class=\"$style.item\" :name=\"`g_${uuid}`\" true=\"group\"  v-model=\"model\" @change=\"modelChg\"/>\r\n        <Button type=\"light\" v-if=\"model=='fav'   && favset\"  @click=\"favSetClick\"   icon=\"el-icon-setting\" :height=\"30\" padding=\"0 !important\" :border=\"false\" style=\"width:84px;position:absolute;top:0px;right:88px;\">{{$_L.get('收藏管理')}}</Button>\r\n        <Button type=\"light\" v-if=\"model=='group' && groupset\"   @click=\"groupSetClick\" icon=\"el-icon-setting\" :height=\"30\" padding=\"0 !important\" :border=\"false\" style=\"width:87px;position:absolute;top:0px;right:0px;\">{{$_L.get('分组管理')}}</Button>\r\n      -->\r\n      <div v-if=\"$_H.show('d1')\" :class=\"$style.title\" style=\"height:40px; line-height:40px; font-size:14px;\"><i class=\"el-icon-xinxichaxun\" :class=\"$style.titleIcon\" />{{$_L.get('统计显示')}}</div>\r\n      <div :class=\"$style.content\">\r\n        <div>\r\n          <div v-if=\"$_H.show('d1')&&$_H.show('d2')&&$_H.show('c0')\"><div :class=\"$style.line\"></div><Checkbox :disabled=\"!!model\" :label=\"$_L.get('在线统计')\" :class=\"$style.item\" v-model=\"showTeamCount.line\" @change=\"setTeamCount('line')\" /></div>\r\n          <div v-if=\"$_H.show('d1')&&$_H.show('d3')\" ><div :class=\"$style.line\"></div><Checkbox :disabled=\"!!model\" :label=\"$_L.get('行停统计')\" :class=\"$style.item\" v-model=\"showTeamCount.move\" @change=\"setTeamCount('move')\" /></div>\r\n          <div v-if=\"$_H.show('d1')&&$_H.show('d4')\" ><div :class=\"$style.line\"></div><Checkbox :disabled=\"!!model\" :label=\"$_L.get('报警统计')\" :class=\"$style.item\" v-model=\"showTeamCount.alarm\" @change=\"setTeamCount('alarm')\" /></div>\r\n          <div v-if=\"$_H.show('d1')&&$_H.show('d5')\" ><div :class=\"$style.line\"></div><Checkbox :disabled=\"!!model\" :label=\"$_L.get('无效统计')\" :class=\"$style.item\" v-model=\"showTeamCount.invalid\" @change=\"setTeamCount('invalid')\" /></div>\r\n          <div v-if=\"$_H.show('d1')&&$_H.show('d6')&&$_H.show('a6')\" ><div :class=\"$style.line\"></div><Checkbox :disabled=\"!!model\" :label=\"$_L.get('ACC统计')\" :class=\"$style.item\" v-model=\"showTeamCount.acc\" @change=\"setTeamCount('acc')\" /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"$_H.show('da')\" :class=\"$style.title\" style=\"height:40px; line-height:40px; font-size:14px;\"><i class=\"el-icon-cheliangxianshi\" :class=\"$style.titleIcon\" />{{$_L.get('车辆显示')}}</div>\r\n      <div :class=\"$style.content\">\r\n        <div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dc')\" ><div :class=\"$style.line\"></div><Radio :label=\"$_L.get('车牌号码')\" :class=\"$style.item\" :name=\"`car_${uuid}`\" true=\"plate\" v-model=\"carTreeCfg.sortField\" @change=\"carSortFieldChg\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('db')\" ><div :class=\"$style.line\"></div><Radio :label=\"$_L.get('车辆名称')\" :class=\"$style.item\" :name=\"`car_${uuid}`\" true=\"name\" v-model=\"carTreeCfg.sortField\" @change=\"carSortFieldChg\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('di')\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('车牌颜色')\" :class=\"$style.item\" val=\"color\" v-model=\"showCarField\" @change=\"showCarFieldChg('color')\" /></div>\r\n          <div v-if=\"das.dj\"><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('终端标识')\" :class=\"$style.item\" val=\"tmnKey\" v-model=\"showCarField\" @change=\"showCarFieldChg('tmnKey')\" /></div>\r\n          <div v-if=\"das.de\"><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('SIM卡号')\" :class=\"$style.item\" val=\"simCard\" v-model=\"showCarField\" @change=\"showCarFieldChg('simCard')\" /></div>\r\n          <div v-if=\"das.df\"><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('终端号')\" :class=\"$style.item\" val=\"tmnNo\" v-model=\"showCarField\" @change=\"showCarFieldChg('tmnNo')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dg')\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('司机姓名')\" :class=\"$style.item\" val=\"driver\" v-model=\"showCarField\" @change=\"showCarFieldChg('driver')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dh')\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('车辆状态')\" :class=\"$style.item\" val=\"state\" v-model=\"showCarField\" @change=\"showCarFieldChg('state')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dr')&&showDyField\" ><div :class=\"$style.line\"></div><Checkbox label=\"ACC\" :class=\"$style.item\" val=\"acc\" v-model=\"showCarField\" @change=\"showCarFieldChg('acc')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dl')&&showDyField\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('行驶速度')\" :class=\"$style.item\" val=\"speed\" v-model=\"showCarField\" @change=\"showCarFieldChg('speed')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('ds')&&showDyField\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('行停时长')\" :class=\"$style.item\" val=\"rsl\" v-model=\"showCarField\" @change=\"showCarFieldChg('rsl')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dt')&&showDyField\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('链接时长')\" :class=\"$style.item\" val=\"ool\" v-model=\"showCarField\" @change=\"showCarFieldChg('ool')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dq')&&showDyField\" ><div :class=\"$style.line\"></div><Checkbox :label=\"$_L.get('所在地区')\" :class=\"$style.item\" val=\"area\" v-model=\"showCarField\" @change=\"showCarFieldChg('area')\" /></div>\r\n          <div v-if=\"$_H.show('da')&&$_H.show('dk')&&show2g4gIcon\" ><div :class=\"$style.line\"></div><Checkbox :label=\"'2G/'+$_L.get('视频')\" :class=\"$style.item\" val=\"g24\" v-model=\"showCarField\" @change=\"showCarFieldChg('g24')\" /></div>\r\n          <div v-if=\"car_bxt_list.length&&$_H.show('da')&&$_H.show('dd')\" :style=\"{width:showcount%3==0?'calc(100% + 1px)':showcount%3==1?'calc(66% + 2px)':'calc(33% +1px)'}\"><div :class=\"$style.line\"></div><InputSelect :height=\"32\" :class=\"$style.item\" :placeholder=\"$_L.get('更多选项')\" :options=\"car_bxt_list\" valueField=\"id\" labelField=\"name\" checkbox clearable :showCheckAll=\"false\" borderColor=\"#E8EAED\" :maxListNum=\"6\" :focusable=\"false\" v-model=\"showCarBxts\" :dropdownWidth=\"showcount%3==2?'130px':''\" radius=\"0px\" style=\"padding-left:2px!important;border-width:0 0 1px 0;margin-top: 1px;\" @change=\"showCarBxtsChg\" /></div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"$_H.show('dm')\" :class=\"$style.title\" style=\"height:40px; line-height:40px; font-size:14px;\"><i class=\"el-icon-cheliangguolv\" :class=\"$style.titleIcon\" />{{$_L.get('车辆过滤')}}</div>\r\n      <div :class=\"$style.content\">\r\n        <div>\r\n          <div v-if=\"$_H.show('dm')&&$_H.show('dn')\" ><div :class=\"$style.line\"></div><InputSelect :height=\"32\" :class=\"$style.item\" :placeholder=\"$_L.get('车辆状态')\" :options=\"states\" clearable borderColor=\"#E8EAED\" :maxListNum=\"6\" :focusable=\"false\" v-model=\"carTreeCfg.filters.state\" radius=\"0px\" style=\"padding-left:2px!important;border-width:0 0 1px 0;margin-top: 1px;width: calc(100% - 2px);\" @change=\"carFilterChg\" /></div>\r\n          <div v-if=\"$_H.show('dm')&&$_H.show('do')\" ><div :class=\"$style.line\"></div><InputSelect :height=\"32\" :class=\"$style.item\" :placeholder=\"$_L.get('车牌颜色')\" :options=\"colors\" clearable borderColor=\"#E8EAED\" :maxListNum=\"5\" :focusable=\"false\" v-model=\"carTreeCfg.filters.color\" radius=\"0px\" style=\"padding-left:2px!important;border-width:0 0 1px 0;margin-top: 1px;width: calc(100% - 2px);\" @change=\"carFilterChg\" /></div>\r\n          <div v-if=\"$_H.show('dm')&&$_H.show('dp')\" ><div :class=\"$style.line\"></div><InputTree :height=\"32\" :class=\"$style.item\" :placeholder=\"$_L.get('车辆类型')\" :treeWidth=\"200\" :getTreeRoots=\"cb=>getCarTypeTree(tree=>cb(tree))\" :focusable=\"false\" clearable borderColor=\"#E8EAED\" :searchable=\"false\" v-model=\"carTreeCfg.filters.type\" radius=\"0px\" style=\"padding-left:2px!important;border-width:0 0 1px 0;margin-top: 1px;width: calc(100% - 2px);\" @change=\"carFilterChg\" /></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </Toolbar>\r\n</template>\r\n\r\n<script>\r\nimport SearchBox from \"@/components/Tree/SearchBox.vue\";\r\n// import CarFavSetWindow from \"./CarFavSetWindow.vue\";\r\n// import CarGroupSetWindow from \"./CarGroupSetWindow.vue\";\r\n\r\nimport { domLeftTop } from '@/components/util/Dom.js';\r\nimport { objCopyTo } from '@/common/util/Objects.js';\r\nimport { objIsEmpty } from '@/common/util/Objects.js';\r\nimport { arrayRemoveItem } from '@/common/util/Arrays.js';\r\nimport { Fields } from '@/common/cache/CacheTeamCar.js';\r\nimport { getCarTreeCfg } from '@/common/cache/CacheTeamCar.js';\r\nimport { saveCarTreeCfg } from '@/common/cache/CacheTeamCar.js';\r\nimport { countState } from '@/common/cache/CacheTeamCar.js';\r\nimport { countFilter } from '@/common/cache/CacheTeamCar.js';\r\nimport { setFilterFun } from '@/common/cache/CacheTeamCar.js';\r\nimport { resetCarTree } from '@/common/cache/CacheTeamCar.js';\r\nimport { getPlateColorArray } from '@/common/Vars.js';\r\nimport { getCarTypeTree } from \"@/common/cache/CacheCmn.js\";\r\nimport { getTeamExtWidgets } from \"@/common/cache/CacheCmn.js\";\r\n\r\nimport { getFieldMap } from \"@/common/gps/Fields.js\";\r\n\r\nexport default {\r\n  components: { SearchBox },\r\n  props: {\r\n    setting: { default: null },\r\n    miniBar: { type: Boolean, default: false },\r\n    treeBorder: { type: Boolean, default: true },\r\n    onSearchItemSelected: Function,\r\n    refreshClick: Function,\r\n    showRecent: Function,\r\n    model: { type: String, default: null },\r\n    // modelChg: Function,\r\n    onCarSortFieldChg: Function,\r\n    show2g4gIcon: { type: Boolean, default: false },\r\n    showDyField: { type: Boolean, default: false },\r\n    isSimple: { type: Boolean, default: false },\r\n  },\r\n\r\n  _carFields: null,\r\n  _teamFields: null,\r\n  _treeId: null,\r\n\r\n  data() {\r\n    return {\r\n      uuid: $_theme.zindex(),\r\n      placeholder: \"\",\r\n      hasOwnField: null,\r\n      // favshow: true,\r\n      // favset: false,\r\n      // groupshow: false,\r\n      // groupset: false,\r\n      // model: false,\r\n      carTreeCfg: {},\r\n      /*{\r\n        search: {carFields:['plate','tmnKey'], teamFields:[]}, //设置搜索条件\r\n        sortField: 'plate',\r\n        filters: {state:false,color:null,type:null},\r\n        showTeamCount: false/{line: true, move: false, alarm: false, invalid: false, acc: false},\r\n        showCarField:  false/{color:true, tmnKey:true, state:true, bxts: [bxtId]}\r\n      }*/\r\n      searchBxtFields: [],\r\n      searchTeamExtFields: [],\r\n      showTeamCount: { line: false, move: false, alarm: false, invalid: false, acc: false },\r\n      das: { dj: false, de: false, df: false },\r\n      showCarField: [], //['color', 'tmnKey', 'state'],\r\n      showCarBxts: [],\r\n      car_bxt_list: [],\r\n      team_ext_list: [],\r\n      searchSet: { show: false, left: 0, top: 0 },\r\n      renderSet: { show: false, left: 0, top: 0 },\r\n      showcount: 0,\r\n      simple: false,\r\n      colors: getPlateColorArray(),\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    hw: function () { return this.miniBar ? 27 : this.theme.inputHeight; },\r\n    mini: function () { return this.miniBar },\r\n    getCarTypeTree: () => getCarTypeTree,\r\n    states: function () { return [{ label: $_L.get('在线车辆'), value: 'online' }, { label: $_L.get('离线车辆'), value: 'offline' }, { label: $_L.get('行驶车辆'), value: 'move' }, { label: $_L.get('停止车辆'), value: 'stop' }, { label: $_L.get('报警车辆'), value: 'alarm' }, { label: $_L.get('无效定位'), value: 'invalid' }]; }\r\n  },\r\n\r\n  watch: {\r\n    'searchSet.show': function (v) {\r\n      if (!v) return document.removeEventListener('click', this.clickSearchSet);\r\n      let { left, top } = domLeftTop(this.$el);\r\n      this.searchSet.left = left - 1;\r\n      this.searchSet.top = top + this.$el.clientHeight;\r\n      setTimeout(() => { document.addEventListener('click', this.clickSearchSet); }, 10);\r\n    },\r\n    'renderSet.show': function (v) {\r\n      if (!v) return document.removeEventListener('click', this.clickRenderSet);\r\n      let { left, top } = domLeftTop(this.$el);\r\n      if (left + this.$el.clientWidth + 260 > document.documentElement.clientWidth) {\r\n        left = left + this.$el.clientWidth - 260 + 1;\r\n        top += this.$el.clientHeight;\r\n      } else {\r\n        left = left + this.$el.clientWidth;\r\n        top -= 1;\r\n      }\r\n      this.renderSet.left = left;\r\n      this.renderSet.top = top;\r\n      setTimeout(() => { document.addEventListener('click', this.clickRenderSet); }, 10);\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.simple = this.isSimple\r\n    let map = getFieldMap();\r\n    this.das.dj = $_H.show('da') && $_H.show('dc') && !!map.t0;\r\n    this.das.de = $_H.show('da') && $_H.show('de') && !!map.t1;\r\n    this.das.df = $_H.show('da') && $_H.show('df') && !!map.t2;\r\n    $_H.show('da') && $_H.show('dc') && this.showcount++;\r\n    $_H.show('da') && $_H.show('db') && this.showcount++;\r\n    $_H.show('da') && $_H.show('di') && this.showcount++;\r\n    this.das.dj && this.showcount++;\r\n    this.das.de && this.showcount++;\r\n    this.das.df && this.showcount++;\r\n    $_H.show('da') && $_H.show('dg') && this.showcount++;\r\n    $_H.show('da') && $_H.show('dh') && this.showcount++;\r\n    $_H.show('da') && $_H.show('dr') && this.showDyField && this.showcount++;\r\n    $_H.show('da') && $_H.show('dl') && this.showDyField && this.showcount++;\r\n    $_H.show('da') && $_H.show('ds') && this.showDyField && this.showcount++;\r\n    $_H.show('da') && $_H.show('dt') && this.showDyField && this.showcount++;\r\n    $_H.show('da') && $_H.show('dq') && this.showDyField && this.showcount++;\r\n    $_H.show('da') && $_H.show('dk') && this.show2g4gIcon && this.showcount++;\r\n    this.team_ext_list = getTeamExtWidgets() || this.team_ext_list;\r\n  },\r\n\r\n  mounted() {\r\n    // this.favshow = this.setting.favshow !== false;\r\n    // this.favset = this.setting.favset === true;\r\n    // this.groupshow = this.setting.groupshow !== false;\r\n    // this.groupset = this.setting.groupset === true;\r\n    this.carTreeCfg = getCarTreeCfg();\r\n    this.carTreeCfg.showTeamCount && objCopyTo(this.carTreeCfg.showTeamCount, this.showTeamCount);\r\n    if (this.carTreeCfg.showCarField) {\r\n      this.carTreeCfg.showCarField.color && this.showCarField.push('color');\r\n      this.carTreeCfg.showCarField.tmnKey && this.showCarField.push('tmnKey');\r\n      this.carTreeCfg.showCarField.simCard && this.showCarField.push('simCard');\r\n      this.carTreeCfg.showCarField.tmnNo && this.showCarField.push('tmnNo');\r\n      this.carTreeCfg.showCarField.driver && this.showCarField.push('driver');\r\n      this.carTreeCfg.showCarField.state && this.showCarField.push('state');\r\n      this.carTreeCfg.showCarField.acc && this.showCarField.push('acc');\r\n      this.carTreeCfg.showCarField.speed && this.showCarField.push('speed');\r\n      this.carTreeCfg.showCarField.rsl && this.showCarField.push('rsl');\r\n      this.carTreeCfg.showCarField.ool && this.showCarField.push('ool');\r\n      this.carTreeCfg.showCarField.area && this.showCarField.push('area');\r\n      this.carTreeCfg.showCarField.g24 && this.showCarField.push('g24');\r\n      this.showCarBxts = this.carTreeCfg.showCarField.bxts || this.showCarBxts;\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    init(car_bxt_list) {\r\n      let map = getFieldMap();\r\n      car_bxt_list.forEach(bxt => map[bxt.id] && this.car_bxt_list.push(bxt));\r\n      let carFields = this.carTreeCfg.search.carFields;\r\n      this.car_bxt_list.forEach(bxt => carFields.indexOf('bxts.' + bxt.id) > -1 && this.searchBxtFields.push(bxt.id));\r\n      let teamFields = this.carTreeCfg.search.teamFields;\r\n      this.team_ext_list.forEach(ext => teamFields.indexOf('exts.' + ext.id) > -1 && this.searchTeamExtFields.push(ext.id));\r\n      this.setSearchField();\r\n    },\r\n    setTree(tree) {\r\n      this._treeId = tree.setting.treeId;\r\n      this.$refs.searchBox.setTree(tree);\r\n    },\r\n    searchBxtChg() {\r\n      let carFields = this.carTreeCfg.search.carFields;\r\n      this.car_bxt_list.forEach(bxt => arrayRemoveItem(carFields, 'bxts.' + bxt.id));\r\n      this.searchBxtFields && this.searchBxtFields.forEach(bxtId => carFields.push('bxts.' + bxtId));\r\n      saveCarTreeCfg();\r\n      this.setSearchField();\r\n    },\r\n    searchTeamExtChg() {\r\n      let teamFields = this.carTreeCfg.search.teamFields;\r\n      this.team_ext_list.forEach(ext => arrayRemoveItem(teamFields, 'exts.' + ext.id));\r\n      this.searchTeamExtFields && this.searchTeamExtFields.forEach(bxtId => teamFields.push('exts.' + bxtId));\r\n      saveCarTreeCfg();\r\n      this.setSearchField();\r\n    },\r\n    setSearchField() {\r\n      let carFields = this.carTreeCfg.search.carFields, teamFields = this.carTreeCfg.search.teamFields;\r\n      if (carFields.length == 0 && teamFields.length == 0) {\r\n        carFields.push('plate');\r\n      }\r\n      this._carFields = carFields.length > 0 ? carFields : null;\r\n      this._teamFields = teamFields.length > 0 ? teamFields : null;\r\n      this.hasOwnField = this._carFields && this._teamFields ? null : this._carFields ? 'plate' : 'pid';\r\n      let placeholder = [];\r\n      if (this._carFields) {\r\n        this._carFields.indexOf('plate') > -1 && placeholder.push($_L.get('车牌号码'));\r\n        this._carFields.indexOf('carname') > -1 && placeholder.push($_L.get('车辆名称'));\r\n        this._carFields.indexOf('tmnKey') > -1 && placeholder.push($_L.get('终端标识'));\r\n        this._carFields.indexOf('simCard') > -1 && placeholder.push($_L.get('SIM卡号'));\r\n        this.car_bxt_list.forEach(bxt => this._carFields.indexOf('bxts.' + bxt.id) > -1 && placeholder.push(bxt.name));\r\n      }\r\n      if (this._teamFields) {\r\n        this._teamFields.indexOf('teamname') > -1 && placeholder.push($_L.get('车队名称'));\r\n        this._teamFields.indexOf('linkman') > -1 && placeholder.push($_L.get('联系人员'));\r\n        this._teamFields.indexOf('phone') > -1 && placeholder.push($_L.get('联系电话'));\r\n        this.team_ext_list.forEach(ext => this._teamFields.indexOf('exts.' + ext.id) > -1 && placeholder.push(ext.name));\r\n      }\r\n      this.placeholder = placeholder.join('｜');\r\n    },\r\n    searchFun(node, text, array) {\r\n      if (node[this._treeId].hide) return false;\r\n      return this.contain(node, text, array, node.plate ? this._carFields : this._teamFields);\r\n    },\r\n    contain(node, text, array, fields) {\r\n      if (!fields) return false;\r\n      let fun;\r\n      for (let field of fields) {\r\n        fun = Fields[field];\r\n        if (fun) {\r\n          field = fun(node, field);\r\n        } else {\r\n          fields = field.split('.');// bxts.id | exts.id\r\n          fun = Fields[fields[0]];\r\n          field = fun(node, fields[1] + '.text') || fun(node, fields[1]);\r\n        }\r\n        if (!field) continue;\r\n        if ((text && field.toLowerCase().indexOf(text) >= 0) || (array && array.has(field))) return true;\r\n      }\r\n      return false;\r\n    },\r\n    // favSetClick() {\r\n    //   $_popup.open(CarFavSetWindow);\r\n    // },\r\n    // groupSetClick() {\r\n    //   $_popup.open(CarGroupSetWindow);\r\n    // },\r\n    clickSearchSet(event) {\r\n      this.searchSet.show = this.$refs.searchSet.contains(event.target);\r\n    },\r\n    clickRenderSet(event) {\r\n      this.renderSet.show = this.$refs.renderSet.contains(event.target);\r\n    },\r\n    searchSetChg() {\r\n      saveCarTreeCfg();\r\n      this.setSearchField();\r\n    },\r\n    setTeamCount(field) {\r\n      let before = this.carTreeCfg.showTeamCount;\r\n      this._setShowCfg('showTeamCount', field, this.showTeamCount[field]);\r\n      !before && this.carTreeCfg.showTeamCount && countState();\r\n      resetCarTree('updateNodeName', false, true);\r\n    },\r\n    carSortFieldChg() {\r\n      saveCarTreeCfg();\r\n      resetCarTree('updateNodeName', true, false);\r\n      this.onCarSortFieldChg && this.onCarSortFieldChg();\r\n    },\r\n    showCarFieldChg(field) {\r\n      let flag = this.showCarField.indexOf(field) != -1;\r\n      this._setShowCfg('showCarField', field, flag);\r\n      if (field == 'acc' || field == 'speed' || field == 'rsl' || field == 'ool' || field == 'area') {//ACC、速度和地区，特殊处理，需要后台推数据\r\n        this.$parent._dyfield.onFieldCheck(field, flag);\r\n        !flag && resetCarTree('updateNodeName', true, false);\r\n      } else {\r\n        resetCarTree('updateNodeName', true, false);\r\n      }\r\n    },\r\n    showCarBxtsChg() {\r\n      this._setShowCfg('showCarField', 'bxts', (!this.showCarBxts || this.showCarBxts.length == 0) ? false : this.showCarBxts);\r\n      resetCarTree('updateNodeName', true, false);\r\n    },\r\n    carFilterChg() {\r\n      saveCarTreeCfg();\r\n      setFilterFun();\r\n      this.carTreeCfg.hasFilter && countFilter();\r\n      resetCarTree('updateNodeHide', true, true);\r\n      resetCarTree('updateNodeName', false, true);\r\n    },\r\n    _setShowCfg(item, key, value) {\r\n      let cfg = this.carTreeCfg[item];\r\n      if (!cfg && !value) return;\r\n      if (!value) {\r\n        cfg && delete cfg[key];\r\n        if (objIsEmpty(cfg)) cfg = false;\r\n      } else {\r\n        cfg = cfg || {};\r\n        cfg[key] = value;\r\n      }\r\n      this.carTreeCfg[item] = cfg;\r\n      saveCarTreeCfg();\r\n    },\r\n    showTip(tip, color) {\r\n      this.$refs.searchBox.clear();\r\n      this.$refs.searchBox.showTip(tip, color);\r\n    },\r\n    destroy() {\r\n      this.$refs.searchBox.clear();\r\n      this.$refs.searchBox.setTree(null);\r\n      this._carFields = null;\r\n      this._teamFields = null;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style module>\r\n.setter {\r\n  width: 280px;\r\n  position: fixed;\r\n  margin: 0;\r\n  background-color: #fff;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  box-shadow: 0px 0px 5px 0px RGBA(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n}\r\n.item, .title {\r\n  background-position: 10px center !important;\r\n  padding-left: 10px !important;\r\n  margin-bottom: -1px;\r\n  height: 30px;\r\n  float: left;\r\n}\r\n.title {\r\n  width: 100%;\r\n  background-color: #e8eaed;\r\n}\r\n.titleIcon{\r\n  font-size: 18px;\r\n  margin-right: 8px;\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n.content{\r\n  padding: 0 13px;\r\n  position: relative;\r\n}\r\n.content > div{\r\n  width: 100%;\r\n  float: left;\r\n  overflow: hidden;\r\n}\r\n.content > div > div{\r\n  float: left;\r\n  width: calc(33.3% + 1px);\r\n  margin-left: -1px;\r\n}\r\n.line{\r\n  width: 1px;\r\n  height: 17px;\r\n  background-color: #e8eaed;\r\n  margin-top: 8px;\r\n  float: left;\r\n}\r\n.item {\r\n  width: calc(100% - 1px);\r\n  border-bottom: 1px solid #e8eaed;\r\n  height: 33px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/common/tree"}]}