{"remainingRequest":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js!D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\InputTSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\cdRule\\src\\components\\InputTSelect.vue","mtime":1668755994044},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _toConsumableArray from \"D:\\\\cdRule\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*\r\n* 使用例子\r\n* <InputTSelect label=\"你要选择哪一个\" :options=\"[{label:'吃饭',value:1},{label:'睡觉',value:2}]\" v-model=\"like\" @change=\"onSelectChg\"/>\r\n*\r\n*  data: {like: 1},\r\n*  methods: {\r\n*    onSelectChg(value, item) {// value值是1或2, item是{label:'吃饭',value:1}\r\n*    }\r\n*  }\r\n*/\nimport { domLeftTop } from '@/components/util/Dom.js';\nimport { arrayFindItem } from '@/common/util/Arrays.js';\nimport { arrayRemoveValue } from '@/common/util/Arrays.js';\nimport { arrayGetValue } from '@/common/util/Arrays.js';\nimport storage from '@/common/cache/Storage.js';\nexport default {\n  name: \"InputTSelect\",\n  props: {\n    label: String,\n    // 标题文本\n    value: {\n      default: null\n    },\n    // 当前值(v-model)\n    options: Array,\n    // 多个选项 [{lable:xxx,value:xxx}...]\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    // 显示字段\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    // 值字段\n    checkbox: {\n      type: Boolean,\n      default: false\n    },\n    // 是否多选\n    showCheckAll: {\n      type: Boolean,\n      default: true\n    },\n    // 是否显示全选\n    splitter: {\n      type: String,\n      default: null\n    },\n    // 如果是多选，而value是字符串\"1,2,3,4\" 则需要定义拆分符为逗号\n    placeholder: String,\n    unit: String,\n    // 单位\n    required: Boolean,\n    // 是否显示必填\n    disabled: Boolean,\n    // 是否可操作\n    clearable: Boolean,\n    // 是否显示可清除图标\n    focusable: {\n      type: Boolean,\n      default: true\n    },\n    // 是否可focus\n    showArrow: {\n      type: Boolean,\n      default: true\n    },\n    // 是否显示箭头图标\n    border: {\n      type: Boolean,\n      default: true\n    },\n    // 是否显示边框\n    borderColor: {\n      type: String,\n      default: $_theme.border_color_light\n    },\n    radius: {\n      type: String,\n      default: $_theme.input_radius\n    },\n    // 边框圆角\n    focusColor: {\n      type: String,\n      default: $_theme.color\n    },\n    height: {\n      type: Number,\n      default: $_theme.inputHeight\n    },\n    // 高度数值，单位是px\n    maxListNum: {\n      type: Number,\n      default: 10\n    },\n    // 下拉框最多显示10个选项，多出10个选项会出现滚动条\n    afterOpen: Function,\n    beforeClose: Function,\n    labelMinWidth: {\n      type: Number,\n      default: 10\n    },\n    // lable宽度最小数值，单位是px\n    inputWidth: {\n      type: String,\n      default: null\n    },\n    // 输入框的宽度\n    dropdownWidth: {\n      type: String,\n      default: null\n    },\n    // 选择列表的宽度\n    contentStyle: {\n      default: null\n    },\n    listStyle: {\n      default: null\n    },\n    labelColor: {\n      type: String,\n      default: null\n    },\n    // lable颜色\n    selectedColor: {\n      type: String,\n      default: null\n    },\n    // 选项选中的颜色\n    searchable: {\n      type: Boolean,\n      default: false\n    },\n    // 是否显示搜索栏\n    isColorBlock: {\n      type: Boolean,\n      default: false\n    },\n    // 是否显示色块\n    searchKey: {\n      typeof: String,\n      default: null\n    },\n    autocomplete: {\n      type: String,\n      default: 'off'\n    } // 自动补全\n\n  },\n  data: function data() {\n    return {\n      selectedItem: null,\n      hoverItem: null,\n      focused: false,\n      selectorHover: false,\n      createDropDown: false,\n      showDropDown: false,\n      dropdownStyle: null,\n      checkedItems: null,\n      checkMap: {},\n      checkAll: false,\n      searchValue: null,\n      searchOption: [],\n      showUl: false,\n      listMaxHeight: 0\n    };\n  },\n  watch: {\n    value: function value(v) {\n      if (this._myself) return this._myself = false;\n      this.checkbox ? this.setCheckedItems(v) : this.setSelectedItem(v);\n    },\n    focused: function focused(v) {\n      this.$emit('focused', v);\n    }\n  },\n  mounted: function mounted() {\n    if (this.value === null || this.value == undefined) return;\n    this.checkbox ? this.setCheckedItems(this.value) : this.setSelectedItem(this.value);\n  },\n  methods: {\n    setSelectedItem: function setSelectedItem(v) {\n      this.inupttext = v;\n      if (v === null || v == undefined) return this.selectedItem = null;\n\n      if (!this.selectedItem || this.selectedItem[this.valueField] != v) {\n        this.selectedItem = arrayFindItem(this.options, this.valueField, v) || v;\n      }\n    },\n    toggleDropDown: function toggleDropDown(event) {\n      // 显示或隐藏选项列表\n      if (!this.options || this.options.length == 0) return;\n      this.focused = true;\n      if (this.showDropDown) return this.hideDropDown(event);\n      this.showDropDown = this.createDropDown = true; // 自动判断是显示在下面还是上面\n\n      var _domLeftTop = domLeftTop(this.$refs.selector),\n          left = _domLeftTop.left,\n          top = _domLeftTop.top,\n          isbottom = true,\n          listHeight = 30 * Math.min(this.maxListNum, this.options.length) + 1 + (this.border ? 0 : 1);\n\n      var this_height = this.$el.offsetHeight;\n      var down = document.documentElement.clientHeight - top - this_height;\n\n      if (down > listHeight) {\n        // 下面空间充足，显示在下面\n        top += this_height - (this.border ? 1 : 0);\n      } else if (top > listHeight) {\n        // 上面空间足够，显示在上面\n        top -= listHeight + (this.border ? 1 : 0);\n        isbottom = false;\n      } else {\n        // 上面和下面的空间都不够\n        if (down > top) {\n          // 下面的空间大，显示在下面\n          listHeight = down - 5;\n          top += this_height - (this.border ? 1 : 0);\n        } else {\n          // 上面的空间大，显示在上面\n          listHeight = top - 5;\n          top -= listHeight + (this.border ? 1 : 0);\n          isbottom = false;\n        }\n      }\n\n      this.listMaxHeight = listHeight;\n      this.border && left--;\n      this.dropdownStyle = {\n        borderColor: this.borderColor,\n        zIndex: window.$_theme.zindex(),\n        top: top + 'px',\n        left: left + 'px',\n        // marginLeft: (this.$refs.selector.offsetLeft) + 'px',\n        // marginTop: isbottom ? this.border ? '1px' : '0' : '0',\n        width: this.dropdownWidth || this.$el.offsetWidth - this.$refs.selector.offsetLeft - (this.border ? 1 : 0) + 'px'\n      }; // !isbottom && this.$nextTick(() => this.dropdownStyle.marginTop = -(this.$refs.dropdown.offsetHeight+this.$el.offsetHeight+(this.border?-1:0)) + 'px');\n\n      this.border && (this.dropdownStyle[isbottom ? 'border-top-width' : 'border-bottom-width'] = 0);\n      this.afterOpen && this.$nextTick(this.afterOpen);\n      document.addEventListener('click', this.onMouseClick);\n    },\n    onMouseClick: function onMouseClick(event) {\n      !this.$el.contains(event.target) && this.hideDropDown(event);\n    },\n    handleFocus: function handleFocus(event) {\n      this.focused = true;\n      this.$emit('focus', event);\n    },\n    handleBlur: function handleBlur(event) {\n      this.focused = false;\n      this.$emit('blur', event);\n    },\n    hideDropDown: function hideDropDown(event) {\n      // 隐藏弹出的选项列表\n      if (this.beforeClose && this.beforeClose(event) === false) return false;\n      this.showDropDown = false;\n      document.removeEventListener('click', this.onMouseClick);\n      return true;\n    },\n    handleInput: function handleInput(event) {\n      var _this = this;\n\n      var searchOption = [];\n      this.searchValue = event.target.value;\n      this.searchValue = this.searchValue.trim();\n      this.$refs.clearBtn.style.display = this.searchValue ? '' : 'none';\n      this.options.forEach(function (el) {\n        if (el[_this.labelField].indexOf(_this.searchValue) != -1) {\n          searchOption.push(el);\n        }\n      });\n      this.searchOption = searchOption;\n    },\n    handleInput2: function handleInput2(event) {\n      var value = event.target.value;\n      this.inupttext = value;\n      this.$emit('input', value);\n    },\n    onSelectItem: function onSelectItem(item, event) {\n      if (this.checkbox) return;\n      this.selectorHover = false;\n\n      if (!this.selectedItem || this.selectedItem[this.valueField] !== item[this.valueField]) {\n        var old = this.value,\n            value = item[this.valueField];\n        this.selectedItem = item;\n        this._myself = true;\n        this.$emit('input', value);\n        this.$emit('change', value, item, old);\n        this.searchKey && storage.set(this.searchKey, value);\n      }\n\n      this.hideDropDown(event); // if (!this.hideDropDown(event) && !this.dropdownWidth) {\n      //   this.$nextTick(()=>this.dropdownStyle.width = ((this.$el.offsetWidth - this.$refs.selector.offsetLeft - (this.border?1:0)) + 'px'));\n      // }\n    },\n    onCheck: function onCheck(item, checked) {\n      this.onBeforeChange(this.checkMap, this.checkedItems);\n      this.checkMap[item[this.valueField]] = checked;\n      this.checkedItems = this.checkedItems || [];\n      checked ? this.checkedItems.push(item) : arrayRemoveValue(this.checkedItems, this.valueField, item[this.valueField]);\n      var values = arrayGetValue(this.checkedItems, this.valueField);\n      if (this.splitter) values = values.join(this.splitter);\n      this._myself = true;\n      var oldValue = this.value;\n      this.$emit('input', values);\n      this.$emit('change', {\n        value: values,\n        text: this.text,\n        item: item,\n        checked: checked,\n        oldValue: oldValue\n      });\n      this.searchKey && storage.set(this.searchKey, values);\n      this.checkAll = this.options.length == values.length && true || false;\n    },\n    onBeforeChange: function onBeforeChange(value1, value2) {\n      this.$emit('onBeforechange', value1, value2);\n    },\n    onCheckAll: function onCheckAll(checked) {\n      if (!checked) {\n        this.checkMap = {};\n        this.checkedItems = null;\n        var old = this.value;\n        this._myself = true;\n        this.$emit('input', null);\n        this.$emit('change', {\n          value: null,\n          text: null,\n          oldValue: old\n        });\n        this.searchKey && storage.remove(this.searchKey);\n      } else {\n        this.checkedItems = _toConsumableArray(this.options);\n        var values = arrayGetValue(this.checkedItems, this.valueField);\n        var map = {};\n        values.forEach(function (v) {\n          return map[v] = true;\n        });\n        this.checkMap = map;\n        if (this.splitter) values = values.join(this.splitter);\n        this._myself = true;\n        var oldValue = this.value;\n        this.$emit('input', values);\n        this.$emit('change', {\n          value: values,\n          text: this.text,\n          checked: checked,\n          oldValue: oldValue\n        });\n        this.searchKey && storage.set(this.searchKey, values);\n      }\n    },\n    setCheckedItems: function setCheckedItems(v) {\n      var _this2 = this;\n\n      if (v === null || v == undefined) {\n        this.checkMap = {};\n        this.checkedItems = null;\n        return;\n      }\n\n      var values = Array.isArray(v) ? v : this.splitter ? v.split(this.splitter) : [];\n      var map = {},\n          list = [],\n          item;\n      values.forEach(function (value) {\n        map[value] = true;\n        item = arrayFindItem(_this2.options, _this2.valueField, value);\n        item && list.push(item);\n      });\n      this.checkMap = map;\n      this.checkedItems = list;\n      this.checkAll = this.options.length == values.length && true || false;\n    },\n    getSelectedItem: function getSelectedItem() {\n      return this.selectedItem;\n    },\n    getCheckedItems: function getCheckedItems() {\n      return this.checkedItems;\n    },\n    clear: function clear() {\n      this.showDropDown && this.hideDropDown();\n\n      if (this.checkbox) {\n        this.checkedItems = null;\n        this.checkMap = {};\n      } else {\n        this.selectedItem = null;\n      }\n\n      var old = this.value;\n      this._myself = true;\n      this.inupttext = null;\n      this.$emit('input', null);\n      this.searchKey && storage.remove(this.searchKey);\n      this.checkbox ? this.$emit('change', {\n        value: null,\n        text: null,\n        checked: false,\n        oldValue: old\n      }) : this.$emit('change', null, old);\n    },\n    optionItemStyle: function optionItemStyle(item, index) {\n      if (!this.showDropDown) return null;\n\n      if (item == this.hoverItem) {\n        return {\n          backgroundColor: this.theme.list_hover_color\n        };\n      } else if (this.selectedItem && this.selectedItem[this.valueField] === item[this.valueField]) {\n        return {\n          backgroundColor: this.selectedColor ? this.selectedColor : this.theme.selected_color\n        };\n      } else {\n        return {\n          backgroundColor: this.theme.alternate_colors[index % 2]\n        };\n      }\n    },\n    handleClick: function handleClick() {\n      this.showUl = true;\n    },\n    clearSearch: function clearSearch() {\n      this.searchValue = null;\n      this.searchOption = [];\n      this.$refs.clearBtn.style.display = 'none';\n    },\n    ClickItem: function ClickItem(item, event) {\n      this.showUl = false;\n      this.onSelectItem(item, event);\n\n      if (this.checkbox) {\n        this.onCheck(item, true);\n      }\n    }\n  },\n  computed: {\n    text: function text() {\n      var text;\n\n      if (!this.checkbox) {\n        text = this.selectedItem ? this.selectedItem[this.labelField] : null;\n      } else if (!this.checkedItems || this.checkedItems.length == 0) {\n        text = null;\n      } else {\n        text = arrayGetValue(this.checkedItems, this.labelField).join(',');\n      }\n\n      return text || this.inupttext;\n    },\n    showClear: function showClear() {\n      // 判断是否要显示清除按钮\n      return this.clearable && this.selectorHover && this.text;\n    },\n    containerStyle: function containerStyle() {\n      return {\n        borderRadius: this.radius,\n        height: this.height + 'px',\n        borderColor: this.focused && this.focusable ? this.focusColor : this.borderColor,\n        zIndex: this.focused ? this.theme.zindex() : ''\n      };\n    },\n    lineHeight: function lineHeight() {\n      // 获取除边框外的高度\n      return this.height - (this.border ? 2 : 0);\n    },\n    labelStyle: function labelStyle() {\n      return {\n        minWidth: this.labelMinWidth + 'px',\n        borderRightColor: this.theme.border_color_light,\n        backgroundColor: this.labelColor ? this.labelColor : this.theme.input_label_bg_color\n      };\n    }\n  }\n};",{"version":3,"sources":["InputTSelect.vue"],"names":[],"mappings":"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","sourcesContent":["\r\n<template>\r\n  <div :class=\"[$style.container, border && $style.border]\" :style=\"containerStyle\" tabindex=\"0\" @focus=\"focused=true\" @blur=\"focused=false\" @mouseenter=\"selectorHover=true\" @mouseleave=\"selectorHover=false\">\r\n    <!--label显示-->\r\n    <span :class=\"$style.label\" :style=\"labelStyle\" v-if=\"label\" is-label>{{label}}</span>\r\n\r\n    <slot></slot>\r\n\r\n    <!--必填显示-->\r\n    <span :class=\"[$style.required,'el-icon-star-on']\" :style=\"{backgroundColor:theme.input_label_bg_color}\" v-if=\"required\"></span>\r\n\r\n    <!--单位显示-->\r\n    <span :class=\"$style.unit\" v-if=\"unit\">{{unit}}</span>\r\n\r\n    <!--下拉图标和清除图标显示-->\r\n    <i :class=\"[$style.icon,showDropDown?'el-icon-arrow-up':'el-icon-arrow-down']\" :style=\"{lineHeight:lineHeight+'px'}\" @click=\"toggleDropDown($event)\"></i>\r\n    <i :class=\"$style.icon\" :style=\"{lineHeight:lineHeight+'px'}\" v-show=\"showClear\" v-if=\"clearable\" class=\"el-icon-close\" @click=\"clear\"></i>\r\n\r\n    <!--selector显示-->\r\n    <div ref=\"selector\" :class=\"$style.selector\" style=\"padding-left:0\" :title=\"text\":style=\"[inputWidth && {width:inputWidth},{lineHeight:lineHeight+'px',paddingRight:'5px'},contentStyle]\">\r\n      <!--marginRight:showArrow||showClear?'24px':'8px'-->\r\n      <span :class=\"$style.placeholder\" v-if=\"!text && placeholder\">{{placeholder}}</span>\r\n      <div :class=\"$style.colorBlock\" v-if=\"text&&isColorBlock\">\r\n        <div :style=\"{backgroundColor: selectedItem.colorBlock}\"></div>\r\n      </div>\r\n      <input ref=\"input\" :class=\"$style.input\"  :style=\"[{width:inputWidth}]\" v-bind=\"$attrs\" :value=\"text\" type=\"text\" :disabled=\"disabled\" :autocomplete=\"autocomplete\" :placeholder=\"placeholder\"  @focus=\"handleFocus\" @blur=\"handleBlur\"  @input=\"handleInput2\">\r\n    </div>\r\n    <!--弹出selector显示-->\r\n    <div ref=\"dropdown\" :class=\"$style.dropdown\" :style=\"[theme.popup,dropdownStyle]\" v-show=\"showDropDown\" v-if=\"createDropDown\">\r\n      <!-- 搜索栏 -->\r\n      <div :class=\"$style.searchdiv\" v-if=\"searchable\" :style=\"{borderColor:borderColor}\">\r\n        <i class=\"el-icon-search\" :class=\"$style.search_icon\"></i>\r\n        <input type=\"text\" :class=\"$style.input\" :placeholder=\"$_L.get('输入进行查询')\" :value=\"searchValue\" @focus=\"$el.style['border-color'] = theme.color;$el.style['z-index'] = theme.zindex()\" @blur=\"$el.style['border-color'] = borderColor;$el.style['z-index'] = ''\" @click=\"handleClick\" @input=\"handleInput\">\r\n        <div :class=\"$style.clear\" style=\"display:none;\" ref=\"clearBtn\">\r\n          <i></i> <i @click=\"clearSearch\" class=\"el-icon-close\"></i>\r\n        </div>\r\n        <ul :class=\"$style.searchUl\" v-if=\"searchValue!=null&&searchValue!=''&&showUl\" :style=\"{maxHeight:listMaxHeight+'px'}\">\r\n          <li :class=\"$style.option_item\" v-for=\"(item,index) in searchOption\" :key=\"index+'_'+item[valueField]\" :style=\"[listStyle]\" @click=\"ClickItem(item,$event)\">\r\n            <span>{{item[labelField]}}</span>\r\n          </li>\r\n          <li :class=\"$style.option_item\" style=\"text-align:center;\" v-if=\"searchOption.length==0||!searchOption\">\r\n            <span style=\"color:red\">{{$_L.get('暂无数据')}}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <ul :class=\"$style.list\" :style=\"{maxHeight:listMaxHeight+'px'}\">\r\n        <li :class=\"$style.option_item\" :style=\"[optionItemStyle(item, index, value), listStyle]\" v-for=\"(item,index) in options\" :key=\"index+'_'+item[valueField]\" @mouseenter=\"hoverItem=item\" @mouseleave=\"hoverItem=null\" @click.stop=\"onSelectItem(item,$event)\" :title=\"item[labelField]\">\r\n          <Checkbox v-if=\"checkbox\" :label=\"item[labelField]\" :value=\"!!checkMap[item[valueField]]\" @input=\"v=>onCheck(item,v)\" style=\"width:100%\" />\r\n          <div :class=\"$style.colorBlock\" v-if=\"item.colorBlock&&isColorBlock\">\r\n            <div :style=\"{backgroundColor: item.colorBlock}\"></div>\r\n          </div>\r\n          <span v-if=\"!checkbox\">{{item[labelField]}}</span>\r\n        </li>\r\n      </ul>\r\n      <div v-if=\"checkbox && showCheckAll\" style=\"width:100%;height:30px;line-height:30px;padding-left:8px;background-color:var(--bg_color)\">\r\n        <Checkbox :label=\"$_L.get('全选')\" v-model=\"checkAll\" @change=\"onCheckAll\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"disabled\" :class=\"$style.disabled\" :style=\"{borderRadius: radius}\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*\r\n* 使用例子\r\n* <InputTSelect label=\"你要选择哪一个\" :options=\"[{label:'吃饭',value:1},{label:'睡觉',value:2}]\" v-model=\"like\" @change=\"onSelectChg\"/>\r\n*\r\n*  data: {like: 1},\r\n*  methods: {\r\n*    onSelectChg(value, item) {// value值是1或2, item是{label:'吃饭',value:1}\r\n*    }\r\n*  }\r\n*/\r\nimport { domLeftTop } from '@/components/util/Dom.js';\r\nimport { arrayFindItem } from '@/common/util/Arrays.js';\r\nimport { arrayRemoveValue } from '@/common/util/Arrays.js';\r\nimport { arrayGetValue } from '@/common/util/Arrays.js';\r\nimport storage from '@/common/cache/Storage.js';\r\n\r\nexport default {\r\n  name: \"InputTSelect\",\r\n  props: {\r\n    label: String,                                                      // 标题文本\r\n    value: { default: null },                                           // 当前值(v-model)\r\n    options: Array,                                                     // 多个选项 [{lable:xxx,value:xxx}...]\r\n    labelField: { type: String, default: 'label' },                     // 显示字段\r\n    valueField: { type: String, default: 'value' },                     // 值字段\r\n    checkbox: { type: Boolean, default: false },                        // 是否多选\r\n    showCheckAll: { type: Boolean, default: true },                     // 是否显示全选\r\n    splitter: { type: String, default: null },                          // 如果是多选，而value是字符串\"1,2,3,4\" 则需要定义拆分符为逗号\r\n    placeholder: String,\r\n    unit: String,                                                       // 单位\r\n    required: Boolean,                                                  // 是否显示必填\r\n    disabled: Boolean,                                                  // 是否可操作\r\n    clearable: Boolean,                                                 // 是否显示可清除图标\r\n    focusable: { type: Boolean, default: true },                        // 是否可focus\r\n    showArrow: { type: Boolean, default: true },                        // 是否显示箭头图标\r\n    border: { type: Boolean, default: true },                           // 是否显示边框\r\n    borderColor: { type: String, default: $_theme.border_color_light },\r\n    radius: { type: String,  default: $_theme.input_radius},            // 边框圆角\r\n    focusColor: { type: String, default: $_theme.color },\r\n    height: { type: Number, default: $_theme.inputHeight },             // 高度数值，单位是px\r\n    maxListNum: { type: Number, default: 10 },                          // 下拉框最多显示10个选项，多出10个选项会出现滚动条\r\n    afterOpen: Function,\r\n    beforeClose: Function,\r\n    labelMinWidth: { type: Number, default: 10 },  \t\t  \t              // lable宽度最小数值，单位是px\r\n    inputWidth: { type: String, default: null },                        // 输入框的宽度\r\n    dropdownWidth: { type: String, default: null },                     // 选择列表的宽度\r\n    contentStyle: { default: null },\r\n    listStyle: { default: null },\r\n    labelColor: { type: String, default: null },                        // lable颜色\r\n    selectedColor: { type: String, default: null },                     // 选项选中的颜色\r\n    searchable: { type: Boolean, default: false },                      // 是否显示搜索栏\r\n    isColorBlock: { type: Boolean, default: false },                    // 是否显示色块\r\n    searchKey: { typeof: String, default: null },\r\n    autocomplete:   { type: String,  default: 'off' },                // 自动补全\r\n  },\r\n  data() {\r\n    return {\r\n      selectedItem: null,\r\n      hoverItem: null,\r\n      focused: false,\r\n      selectorHover: false,\r\n      createDropDown: false,\r\n      showDropDown: false,\r\n      dropdownStyle: null,\r\n      checkedItems: null,\r\n      checkMap: {},\r\n      checkAll: false,\r\n      searchValue: null,\r\n      searchOption: [],\r\n      showUl: false,\r\n      listMaxHeight: 0,\r\n    };\r\n  },\r\n  watch: {\r\n    value: function (v) {\r\n      if (this._myself) return this._myself = false;\r\n      this.checkbox ? this.setCheckedItems(v) : this.setSelectedItem(v);\r\n    },\r\n    focused: function (v) {\r\n      this.$emit('focused', v);\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.value === null || this.value == undefined) return;\r\n    this.checkbox ? this.setCheckedItems(this.value) : this.setSelectedItem(this.value);\r\n  },\r\n  methods: {\r\n    setSelectedItem(v) {\r\n      this.inupttext=v\r\n      if (v === null || v == undefined) return this.selectedItem = null;\r\n      if (!this.selectedItem || this.selectedItem[this.valueField] != v) {\r\n        this.selectedItem = arrayFindItem(this.options, this.valueField, v)||v;\r\n      }\r\n    },\r\n    toggleDropDown(event) {// 显示或隐藏选项列表\r\n      if (!this.options || this.options.length == 0) return;\r\n      this.focused = true;\r\n      if (this.showDropDown) return this.hideDropDown(event);\r\n      this.showDropDown = this.createDropDown = true;\r\n\r\n      // 自动判断是显示在下面还是上面\r\n      let { left, top } = domLeftTop(this.$refs.selector), isbottom = true, listHeight = 30 * Math.min(this.maxListNum, this.options.length) + 1 + (this.border ? 0 : 1);\r\n      let this_height = this.$el.offsetHeight;\r\n      let down = document.documentElement.clientHeight - top - this_height;\r\n      if (down > listHeight) {// 下面空间充足，显示在下面\r\n        top += this_height - (this.border ? 1 : 0);\r\n      } else if (top > listHeight) {// 上面空间足够，显示在上面\r\n        top -= listHeight + (this.border ? 1 : 0);\r\n        isbottom = false;\r\n      } else {// 上面和下面的空间都不够\r\n        if (down > top) {// 下面的空间大，显示在下面\r\n          listHeight = down - 5;\r\n          top += this_height - (this.border ? 1 : 0);\r\n        } else {// 上面的空间大，显示在上面\r\n          listHeight = top - 5;\r\n          top -= listHeight + (this.border ? 1 : 0);\r\n          isbottom = false;\r\n        }\r\n      }\r\n      this.listMaxHeight = listHeight;\r\n      this.border && (left--);\r\n      this.dropdownStyle = {\r\n        borderColor: this.borderColor,\r\n        zIndex: window.$_theme.zindex(),\r\n        top: top + 'px',\r\n        left: left + 'px',\r\n        // marginLeft: (this.$refs.selector.offsetLeft) + 'px',\r\n        // marginTop: isbottom ? this.border ? '1px' : '0' : '0',\r\n        width: this.dropdownWidth || ((this.$el.offsetWidth - this.$refs.selector.offsetLeft - (this.border?1:0)) + 'px')\r\n      };\r\n\r\n      // !isbottom && this.$nextTick(() => this.dropdownStyle.marginTop = -(this.$refs.dropdown.offsetHeight+this.$el.offsetHeight+(this.border?-1:0)) + 'px');\r\n      this.border && (this.dropdownStyle[isbottom ? 'border-top-width' : 'border-bottom-width'] = 0);\r\n      this.afterOpen && this.$nextTick(this.afterOpen);\r\n      document.addEventListener('click', this.onMouseClick);\r\n    },\r\n    onMouseClick(event) {\r\n      !this.$el.contains(event.target) && this.hideDropDown(event);\r\n    },\r\n    handleFocus(event) {\r\n      this.focused = true;\r\n      this.$emit('focus', event);\r\n    },\r\n    handleBlur(event) {\r\n      this.focused = false;\r\n      this.$emit('blur', event);\r\n    },\r\n    hideDropDown(event) {// 隐藏弹出的选项列表\r\n      if (this.beforeClose && this.beforeClose(event) === false) return false;\r\n      this.showDropDown = false;\r\n      document.removeEventListener('click', this.onMouseClick);\r\n      return true;\r\n    },\r\n    handleInput(event) {\r\n      let searchOption = []\r\n      this.searchValue = event.target.value;\r\n      this.searchValue = this.searchValue.trim();\r\n      this.$refs.clearBtn.style.display = (this.searchValue) ? '' : 'none';\r\n      this.options.forEach(el => {\r\n        if (el[this.labelField].indexOf(this.searchValue) != -1) {\r\n          searchOption.push(el);\r\n        }\r\n      })\r\n      this.searchOption = searchOption;\r\n    },\r\n    handleInput2(event){\r\n      let value=event.target.value;\r\n      this.inupttext=value\r\n      this.$emit('input', value);\r\n    },\r\n    onSelectItem(item, event) {\r\n      if (this.checkbox) return;\r\n      this.selectorHover = false;\r\n      if (!this.selectedItem || this.selectedItem[this.valueField] !== item[this.valueField]) {\r\n        let old = this.value, value = item[this.valueField];\r\n        this.selectedItem = item;\r\n        this._myself = true;\r\n        this.$emit('input', value);\r\n        this.$emit('change', value, item, old);\r\n        this.searchKey && storage.set(this.searchKey, value);\r\n      }\r\n      this.hideDropDown(event);\r\n      // if (!this.hideDropDown(event) && !this.dropdownWidth) {\r\n      //   this.$nextTick(()=>this.dropdownStyle.width = ((this.$el.offsetWidth - this.$refs.selector.offsetLeft - (this.border?1:0)) + 'px'));\r\n      // }\r\n    },\r\n    onCheck(item, checked) {\r\n      this.onBeforeChange(this.checkMap, this.checkedItems);\r\n      this.checkMap[item[this.valueField]] = checked;\r\n      this.checkedItems = this.checkedItems || [];\r\n      checked ? this.checkedItems.push(item) : arrayRemoveValue(this.checkedItems, this.valueField, item[this.valueField]);\r\n      let values = arrayGetValue(this.checkedItems, this.valueField);\r\n      if (this.splitter) values = values.join(this.splitter);\r\n      this._myself = true;\r\n      let oldValue = this.value;\r\n      this.$emit('input', values);\r\n      this.$emit('change', { value: values, text: this.text, item: item, checked: checked, oldValue: oldValue });\r\n      this.searchKey && storage.set(this.searchKey, values);\r\n      this.checkAll=this.options.length==values.length&&true||false;\r\n    },\r\n    onBeforeChange(value1, value2) {\r\n      this.$emit('onBeforechange', value1, value2)\r\n    },\r\n    onCheckAll(checked) {\r\n      if (!checked) {\r\n        this.checkMap = {};\r\n        this.checkedItems = null;\r\n        let old = this.value;\r\n        this._myself = true;\r\n        this.$emit('input', null);\r\n        this.$emit('change', { value: null, text: null, oldValue: old });\r\n        this.searchKey && storage.remove(this.searchKey);\r\n      } else {\r\n        this.checkedItems = [...this.options];\r\n        let values = arrayGetValue(this.checkedItems, this.valueField);\r\n        let map = {};\r\n        values.forEach(v => map[v] = true);\r\n        this.checkMap = map;\r\n        if (this.splitter) values = values.join(this.splitter);\r\n        this._myself = true;\r\n        let oldValue = this.value;\r\n        this.$emit('input', values);\r\n        this.$emit('change', { value: values, text: this.text, checked: checked, oldValue: oldValue });\r\n        this.searchKey && storage.set(this.searchKey, values);\r\n      }\r\n    },\r\n    setCheckedItems(v) {\r\n      if (v === null || v == undefined) {\r\n        this.checkMap = {};\r\n        this.checkedItems = null;\r\n        return;\r\n      }\r\n      let values = Array.isArray(v) ? v : (this.splitter ? v.split(this.splitter) : []);\r\n      let map = {}, list = [], item;\r\n      values.forEach(value => {\r\n        map[value] = true;\r\n        item = arrayFindItem(this.options, this.valueField, value);\r\n        item && list.push(item);\r\n      });\r\n      this.checkMap = map;\r\n      this.checkedItems = list;\r\n      this.checkAll=this.options.length==values.length&&true||false;\r\n    },\r\n    getSelectedItem() {\r\n      return this.selectedItem;\r\n    },\r\n    getCheckedItems() {\r\n      return this.checkedItems;\r\n    },\r\n    clear() {\r\n      this.showDropDown && this.hideDropDown();\r\n      if (this.checkbox) {\r\n        this.checkedItems = null;\r\n        this.checkMap = {};\r\n      } else {\r\n        this.selectedItem = null;\r\n      }\r\n      let old = this.value;\r\n      this._myself = true;\r\n      this.inupttext=null;\r\n      this.$emit('input', null);\r\n      this.searchKey && storage.remove(this.searchKey);\r\n      this.checkbox ? this.$emit('change', { value: null, text: null, checked: false, oldValue: old }) : this.$emit('change', null, old);\r\n    },\r\n    optionItemStyle(item, index) {\r\n      if (!this.showDropDown) return null;\r\n      if (item == this.hoverItem) {\r\n        return { backgroundColor: this.theme.list_hover_color };\r\n      } else if (this.selectedItem && this.selectedItem[this.valueField] === item[this.valueField]) {\r\n        return { backgroundColor: this.selectedColor ? this.selectedColor : this.theme.selected_color };\r\n      } else {\r\n        return { backgroundColor: this.theme.alternate_colors[index % 2] };\r\n      }\r\n    },\r\n    handleClick() {\r\n      this.showUl = true;\r\n    },\r\n    clearSearch() {\r\n      this.searchValue = null;\r\n      this.searchOption = [];\r\n      this.$refs.clearBtn.style.display = 'none';\r\n    },\r\n    ClickItem(item, event) {\r\n      this.showUl = false;\r\n      this.onSelectItem(item, event)\r\n      if (this.checkbox) {\r\n        this.onCheck(item, true)\r\n      }\r\n\r\n    },\r\n  },\r\n  computed: {\r\n    text: function () {\r\n      let text;\r\n      if (!this.checkbox){ text= this.selectedItem ? this.selectedItem[this.labelField] : null;}\r\n      else if (!this.checkedItems || this.checkedItems.length == 0){text=null}\r\n      else{text=arrayGetValue(this.checkedItems, this.labelField).join(',');}\r\n      return text||this.inupttext\r\n    },\r\n    showClear() {// 判断是否要显示清除按钮\r\n      return this.clearable && this.selectorHover && this.text;\r\n    },\r\n    containerStyle() {\r\n      return {\r\n        borderRadius: this.radius,\r\n        height: this.height + 'px',\r\n        borderColor: (this.focused && this.focusable) ? this.focusColor : this.borderColor,\r\n        zIndex: this.focused ? this.theme.zindex() : ''\r\n      };\r\n    },\r\n    lineHeight() {// 获取除边框外的高度\r\n      return this.height - (this.border ? 2 : 0);\r\n    },\r\n    labelStyle() {\r\n      return {\r\n        minWidth: this.labelMinWidth + 'px',\r\n        borderRightColor: this.theme.border_color_light,\r\n        backgroundColor: this.labelColor ? this.labelColor : this.theme.input_label_bg_color\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style module>\r\n.container {\r\n  overflow: hidden;\r\n  vertical-align: top;\r\n  outline: none;\r\n  display: inline-block;\r\n  white-space: nowrap;\r\n  background-color: #fff;\r\n  position: relative;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  -moz-user-select: none;\r\n}\r\n.container:hover {\r\n  background-color: #fff !important;\r\n}\r\n.container > * {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.border {\r\n  border-style: solid;\r\n  border-width: 1px;\r\n}\r\n/* 标题文本 */\r\n.label {\r\n  float: left;\r\n  padding: 0 6px;\r\n  border-right-style: solid;\r\n  border-right-width: 0px;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* select容器 */\r\n.selector {\r\n  padding-left: 8px;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.placeholder {\r\n  color: #b0b0b0;\r\n}\r\n.icon {\r\n  float: right;\r\n  width: 22px;\r\n  padding-left: 2px;\r\n  line-height: 0;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 下拉容器 */\r\n.dropdown {\r\n  position: fixed;\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: unset !important;\r\n}\r\n.list {\r\n  padding: 0;\r\n  margin: 0;\r\n  width: 100%;\r\n  list-style: none;\r\n  background-color: #fff;\r\n  margin-block-start: 0;\r\n  border: 0;\r\n  overflow-y: auto;\r\n}\r\n.option_item {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  height: 30px;\r\n  line-height: 30px;\r\n  padding: 0 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 单位 */\r\n.unit {\r\n  float: right;\r\n  padding-right: 8px;\r\n  white-space: nowrap;\r\n}\r\n/* 必填 */\r\n.required {\r\n  float: right;\r\n  padding: 0 2px;\r\n  color: #f00;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n  -moz-user-select: none;\r\n}\r\n/* 禁止操作 */\r\n.disabled {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  background-color: rgba(255, 255, 255, 0.6);\r\n  opacity: 0.6;\r\n  filter: alpha(opacity=60);\r\n  cursor: not-allowed;\r\n}\r\n.searchdiv {\r\n  width: 100%;\r\n  height: 32px;\r\n  line-height: 31px;\r\n  background-color: #fff;\r\n  border-bottom-width: 1px;\r\n  border-bottom-style: solid;\r\n}\r\n\r\n.search_icon {\r\n  font-size: 16px;\r\n  padding-left: 6px;\r\n}\r\n.input {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: inline-block;\r\n  border: 0;\r\n  outline: 0;\r\n  padding: 2px 25px 2px 8px;\r\n}\r\n.input::placeholder {\r\n  color: #b0b0b0;\r\n}\r\n.input::-webkit-input-placeholder {\r\n  color: #b0b0b0;\r\n}\r\n.input:-ms-input-placeholder {\r\n  color: #b0b0b0;\r\n}\r\n.input::-ms-input-placeholder {\r\n  color: #b0b0b0;\r\n}\r\n/* 清空按钮 */\r\n.clear {\r\n  float: right;\r\n  position: relative;\r\n  width: 0px;\r\n}\r\n.clear > i {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  left: -20px;\r\n  top: -17px;\r\n  width: 20px;\r\n  font-size: 16px;\r\n  line-height: 0;\r\n}\r\n.clear > i:first-child {\r\n  top: 0;\r\n  background-color: #fff;\r\n  height: calc(100% - 2px);\r\n}\r\n.searchUl {\r\n  width: 100%;\r\n  position: absolute;\r\n  background: #fff;\r\n  top: 32px;\r\n  margin: 0;\r\n  padding: 0;\r\n  box-shadow: 2px 3px 10px #ccc;\r\n  overflow: auto;\r\n}\r\n.searchUl li:hover {\r\n  background-color: rgb(252, 240, 193) !important;\r\n}\r\n.searchUl li:nth-child(2n-1) {\r\n  background-color: rgb(250, 250, 250);\r\n}\r\n.colorBlock {\r\n  float: left;\r\n  margin-right: 6px;\r\n  display: flex;\r\n  height: 100%;\r\n  align-items: center;\r\n}\r\n.colorBlock > div {\r\n  width: 12px;\r\n  height: 12px;\r\n}\r\n/* 输入框 */\r\n.input {\r\n  height: 100%;\r\n  display: inline-block;\r\n  border: 0;\r\n  outline: 0;\r\n  padding: 0 8px;\r\n  background-color: #fff;\r\n}\r\n.input::placeholder {\r\n  color: #B0B0B0;\r\n}\r\n.input::-webkit-input-placeholder {\r\n  color: #B0B0B0;\r\n}\r\n.input:-ms-input-placeholder {\r\n  color: #B0B0B0;\r\n}\r\n.input::-ms-input-placeholder {\r\n  color: #B0B0B0;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}