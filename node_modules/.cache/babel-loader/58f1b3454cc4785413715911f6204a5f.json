{"remainingRequest":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js!D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cdRule\\src\\components\\TimeSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\cdRule\\src\\components\\TimeSelect.vue","mtime":1635230123026},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\cdRule\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getNowDate, addDateTime, getDays, dateFormat } from '@/common/util/Dates.js';\nexport default {\n  name: \"TimeSelect\",\n  data: function data() {\n    return {\n      timeSelectShow: false,\n      search: {\n        startTime: getNowDate(),\n        endTime: getNowDate(),\n        types: []\n      }\n    };\n  },\n  computed: {},\n  methods: {\n    timeSelectClick: function timeSelectClick(time) {\n      if (time == 'yesterday') {\n        this.search.startTime = addDateTime(-1, 'YYYY-MM-DD');\n        this.search.endTime = addDateTime(-1, 'YYYY-MM-DD');\n      } else if (time == 'tweek') {\n        this.search.startTime = this.getTime(0);\n        this.search.endTime = getNowDate();\n      } else if (time == 'lweek') {\n        this.search.startTime = this.getTime(7);\n        this.search.endTime = this.getTime(1);\n      } else if (time == 'tmonth') {\n        this.search.startTime = this.getMonthTime(0);\n        this.search.endTime = getNowDate();\n      } else if (time == 'lmonth') {\n        this.search.startTime = this.getMonthTime(1);\n        this.search.endTime = this.getMonthTime(1, true);\n      } else {\n        this.search.endTime = getNowDate();\n        this.search.startTime = addDateTime(-(time - 1), 'YYYY-MM-DD');\n      }\n\n      this.timeSelectShow = false;\n      this.$emit('getTime', this.search);\n    },\n    getTime: function getTime(n) {\n      var now = new Date();\n      var year = now.getFullYear(); //因为月份是从0开始的,所以获取这个月的月份数要加1才行\n\n      var month = now.getMonth() + 1;\n      var date = now.getDate();\n      var day = now.getDay(); //判断是否为周日,如果不是的话,就让今天的day-1(例如星期二就是2-1)\n\n      if (day !== 0) {\n        n = n + (day - 1);\n      } else {\n        n = n + day;\n      }\n\n      if (day) {\n        //这个判断是为了解决跨年的问题\n        if (month > 1) {\n          month = month;\n        } //这个判断是为了解决跨年的问题,月份是从0开始的\n        else {\n            year = year - 1;\n            month = 12;\n          }\n      }\n\n      now.setDate(now.getDate() - n);\n      return dateFormat(now);\n    },\n    getMonthTime: function getMonthTime(month) {\n      var end = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var now = new Date();\n      var nowDay = now.getDate(); //当前日 \n\n      var nowMonth = now.getMonth(); //当前月 \n\n      now.setMonth(now.getMonth() - month);\n      var myYear = now.getFullYear();\n      var myMonth = now.getMonth();\n      var monthStartDate = new Date(myYear, myMonth, 1);\n\n      if (end) {\n        monthStartDate = new Date(myYear, myMonth, getDays(myYear, myMonth + 1));\n      }\n\n      return dateFormat(monthStartDate);\n    },\n    isShow: function isShow() {\n      this.timeSelectShow = false;\n    }\n  }\n};",{"version":3,"sources":["TimeSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,UAAA,EAAA,WAAA,EAAA,OAAA,EAAA,UAAA,QAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA;AAAA,QAAA,SAAA,EAAA,UAAA,EAAA;AAAA,QAAA,OAAA,EAAA,UAAA,EAAA;AAAA,QAAA,KAAA,EAAA;AAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,QAAA,EAAA,EARA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,2BACA,IADA,EACA;AACA,UAAA,IAAA,IAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,WAAA,CAAA,CAAA,CAAA,EAAA,YAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,WAAA,CAAA,CAAA,CAAA,EAAA,YAAA,CAAA;AACA,OAHA,MAGA,IAAA,IAAA,IAAA,OAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,KAAA,OAAA,CAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,UAAA,EAAA;AACA,OAHA,MAGA,IAAA,IAAA,IAAA,OAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,KAAA,OAAA,CAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,KAAA,OAAA,CAAA,CAAA,CAAA;AACA,OAHA,MAGA,IAAA,IAAA,IAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,KAAA,YAAA,CAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,UAAA,EAAA;AACA,OAHA,MAGA,IAAA,IAAA,IAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,KAAA,YAAA,CAAA,CAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,KAAA,YAAA,CAAA,CAAA,EAAA,IAAA,CAAA;AACA,OAHA,MAGA;AACA,aAAA,MAAA,CAAA,OAAA,GAAA,UAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,WAAA,CAAA,EAAA,IAAA,GAAA,CAAA,CAAA,EAAA,YAAA,CAAA;AACA;;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,KAAA,CAAA,SAAA,EAAA,KAAA,MAAA;AACA,KAvBA;AAwBA,IAAA,OAxBA,mBAwBA,CAxBA,EAwBA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,WAAA,EAAA,CAFA,CAGA;;AACA,UAAA,KAAA,GAAA,GAAA,CAAA,QAAA,KAAA,CAAA;AACA,UAAA,IAAA,GAAA,GAAA,CAAA,OAAA,EAAA;AACA,UAAA,GAAA,GAAA,GAAA,CAAA,MAAA,EAAA,CANA,CAOA;;AACA,UAAA,GAAA,KAAA,CAAA,EAAA;AACA,QAAA,CAAA,GAAA,CAAA,IAAA,GAAA,GAAA,CAAA,CAAA;AACA,OAFA,MAGA;AACA,QAAA,CAAA,GAAA,CAAA,GAAA,GAAA;AACA;;AACA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,KAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,GAAA,KAAA;AACA,SAFA,CAGA;AAHA,aAIA;AACA,YAAA,IAAA,GAAA,IAAA,GAAA,CAAA;AACA,YAAA,KAAA,GAAA,EAAA;AACA;AACA;;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA,KAAA,CAAA;AACA,aAAA,UAAA,CAAA,GAAA,CAAA;AACA,KAnDA;AAoDA,IAAA,YApDA,wBAoDA,KApDA,EAoDA;AAAA,UAAA,GAAA,uEAAA,KAAA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,OAAA,EAAA,CAFA,CAEA;;AACA,UAAA,QAAA,GAAA,GAAA,CAAA,QAAA,EAAA,CAHA,CAGA;;AACA,MAAA,GAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,KAAA,KAAA;AACA,UAAA,MAAA,GAAA,GAAA,CAAA,WAAA,EAAA;AACA,UAAA,OAAA,GAAA,GAAA,CAAA,QAAA,EAAA;AAEA,UAAA,cAAA,GAAA,IAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EAAA,CAAA,CAAA;;AACA,UAAA,GAAA,EAAA;AACA,QAAA,cAAA,GAAA,IAAA,IAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,CAAA,MAAA,EAAA,OAAA,GAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,UAAA,CAAA,cAAA,CAAA;AACA,KAjEA;AAkEA,IAAA,MAlEA,oBAkEA;AACA,WAAA,cAAA,GAAA,KAAA;AACA;AApEA;AAVA,CAAA","sourcesContent":["<!--\r\n * @Author: qiu\r\n * @Date: 2020-05-28 15:06:58\r\n * @LastEditTime: 2020-05-29 10:19:53\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\gps-h5\\src\\components\\TimeSelect.vue\r\n--> \r\n<template>\r\n  <div @click=\"timeSelectShow=false\">\r\n    <Button type=\"primary\" icon=\"el-icon-arrow-right\" radius=\"2px\" :class=\"$style.quickBtn\"   @click.stop=\"timeSelectShow=!timeSelectShow\"></Button>\r\n    <table :class=\"$style.timeSelectBox\" :style=\"{borderColor:theme.border_color_dark}\" v-show=\"timeSelectShow\">\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(1)\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>今天</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(3)\">近3天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('yesterday')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>昨天</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(5)\">近5天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('tweek')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>本周</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(7)\">近7天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('lweek')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>上周</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(10)\">近10天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('tmonth')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>本月</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(15)\">近15天</td></tr>\r\n        <tr><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick('lmonth')\"><i class=\"el-icon-date\" style=\"margin:0 5px 0 3px;\"></i>上月</td><td :style=\"{borderColor:theme.border_color_dark}\" @click.stop=\"timeSelectClick(30)\">近30天</td></tr>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getNowDate, addDateTime, getDays, dateFormat} from '@/common/util/Dates.js';\r\n\r\nexport default {\r\n  name: \"TimeSelect\",\r\n  data() {\r\n    return {\r\n      timeSelectShow: false,\r\n      search: { startTime:getNowDate(), endTime:getNowDate(), types:[]},\r\n    };\r\n  },\r\n  computed:{\r\n  },\r\n  methods: {\r\n    timeSelectClick(time){\r\n      if(time == 'yesterday'){\r\n          this.search.startTime = addDateTime(-1, 'YYYY-MM-DD');\r\n          this.search.endTime = addDateTime(-1, 'YYYY-MM-DD');\r\n      }else if(time == 'tweek'){\r\n          this.search.startTime = this.getTime(0);\r\n          this.search.endTime = getNowDate();\r\n      }else if(time == 'lweek'){\r\n          this.search.startTime = this.getTime(7);\r\n          this.search.endTime = this.getTime(1);\r\n      }else if(time == 'tmonth'){\r\n          this.search.startTime = this.getMonthTime(0);\r\n          this.search.endTime = getNowDate();\r\n      }else if(time == 'lmonth'){\r\n          this.search.startTime = this.getMonthTime(1);\r\n          this.search.endTime = this.getMonthTime(1, true);\r\n      }else{\r\n          this.search.endTime = getNowDate();\r\n          this.search.startTime = addDateTime(-(time-1), 'YYYY-MM-DD');\r\n      }\r\n      this.timeSelectShow = false;\r\n      this.$emit('getTime',this.search)    \r\n    },\r\n    getTime(n){\r\n      var now=new Date();\r\n      var year=now.getFullYear();\r\n      //因为月份是从0开始的,所以获取这个月的月份数要加1才行\r\n      var month=now.getMonth()+1;\r\n      var date=now.getDate();\r\n      var day=now.getDay();\r\n      //判断是否为周日,如果不是的话,就让今天的day-1(例如星期二就是2-1)\r\n      if(day!==0){\r\n          n=n+(day-1);\r\n      }\r\n      else{\r\n          n=n+day;\r\n      }\r\n      if(day){\r\n      //这个判断是为了解决跨年的问题\r\n          if(month>1){\r\n          month=month;\r\n          }\r\n          //这个判断是为了解决跨年的问题,月份是从0开始的\r\n          else{\r\n          year=year-1;\r\n          month=12;\r\n          }\r\n      }\r\n      now.setDate(now.getDate()-n);\r\n      return dateFormat(now);\r\n    },\r\n    getMonthTime(month, end = false){ \r\n      var now = new Date();\r\n      var nowDay = now.getDate(); //当前日 \r\n      var nowMonth = now.getMonth(); //当前月 \r\n      now.setMonth(now.getMonth()-month);\r\n      var myYear = now.getFullYear();\r\n      var myMonth = now.getMonth();\r\n\r\n      var monthStartDate = new Date(myYear, myMonth, 1);\r\n      if(end){\r\n          monthStartDate = new Date(myYear, myMonth, getDays(myYear, (myMonth+1)));\r\n      }\r\n      return dateFormat(monthStartDate); \r\n    },\r\n    isShow(){\r\n      this.timeSelectShow=false\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style module>\r\n.quickBtn{\r\n    height: 100%;\r\n    width: 25px;\r\n    margin-left: 10px;\r\n    padding: 0px 0px !important;\r\n}\r\n.timeSelectBox{\r\n    position: fixed;\r\n    margin-left: 35px;\r\n    border: 1px solid;\r\n    width: 125px;\r\n    height: 135px;\r\n    z-index: 999;\r\n    border-collapse: collapse;\r\n}\r\n.timeSelectBox td{\r\n    background-color: #fff;\r\n    border-left: 1px solid;\r\n    cursor: default;\r\n}\r\n.timeSelectBox td:hover{\r\n    background-color: #fcf0c1;\r\n}\r\n.timeSelectBox tr td:nth-child(2){\r\n    background-image: url(\"@/components/Tree/img/leaf.png\");\r\n    background-repeat: no-repeat;\r\n    background-position: 3px 50%;\r\n    padding-left: 22px;\r\n    width: 68px;\r\n}\r\n</style>\r\n\r\n   "],"sourceRoot":"src/components"}]}